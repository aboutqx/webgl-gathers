!function(modules){function hotDisposeChunk(chunkId){delete installedChunks[chunkId]}function hotDownloadUpdateChunk(chunkId){var head=document.getElementsByTagName("head")[0],script=document.createElement("script");script.type="text/javascript",script.charset="utf-8",script.src=__webpack_require__.p+""+chunkId+"."+hotCurrentHash+".hot-update.js",head.appendChild(script)}function hotDownloadManifest(requestTimeout){return requestTimeout=requestTimeout||1e4,new Promise(function(resolve,reject){if("undefined"==typeof XMLHttpRequest)return reject(new Error("No browser support"));try{var request=new XMLHttpRequest,requestPath=__webpack_require__.p+""+hotCurrentHash+".hot-update.json";request.open("GET",requestPath,!0),request.timeout=requestTimeout,request.send(null)}catch(err){return reject(err)}request.onreadystatechange=function(){if(4===request.readyState)if(0===request.status)reject(new Error("Manifest request to "+requestPath+" timed out."));else if(404===request.status)resolve();else if(200!==request.status&&304!==request.status)reject(new Error("Manifest request to "+requestPath+" failed."));else{try{var update=JSON.parse(request.responseText)}catch(e){return void reject(e)}resolve(update)}}})}function hotCreateRequire(moduleId){var me=installedModules[moduleId];if(!me)return __webpack_require__;var fn=function(request){return me.hot.active?(installedModules[request]?installedModules[request].parents.indexOf(moduleId)<0&&installedModules[request].parents.push(moduleId):(hotCurrentParents=[moduleId],hotCurrentChildModule=request),me.children.indexOf(request)<0&&me.children.push(request)):hotCurrentParents=[],__webpack_require__(request)};for(var name in __webpack_require__)Object.prototype.hasOwnProperty.call(__webpack_require__,name)&&"e"!==name&&Object.defineProperty(fn,name,function(name){return{configurable:!0,enumerable:!0,get:function(){return __webpack_require__[name]},set:function(value){__webpack_require__[name]=value}}}(name));return fn.e=function(chunkId){function finishChunkLoading(){hotChunksLoading--,"prepare"===hotStatus&&(hotWaitingFilesMap[chunkId]||hotEnsureUpdateChunk(chunkId),0===hotChunksLoading&&0===hotWaitingFiles&&hotUpdateDownloaded())}return"ready"===hotStatus&&hotSetStatus("prepare"),hotChunksLoading++,__webpack_require__.e(chunkId).then(finishChunkLoading,function(err){throw finishChunkLoading(),err})},fn}function hotCreateModule(moduleId){var hot={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:hotCurrentChildModule!==moduleId,active:!0,accept:function(dep,callback){if(void 0===dep)hot._selfAccepted=!0;else if("function"==typeof dep)hot._selfAccepted=dep;else if("object"==typeof dep)for(var i=0;i<dep.length;i++)hot._acceptedDependencies[dep[i]]=callback||function(){};else hot._acceptedDependencies[dep]=callback||function(){}},decline:function(dep){if(void 0===dep)hot._selfDeclined=!0;else if("object"==typeof dep)for(var i=0;i<dep.length;i++)hot._declinedDependencies[dep[i]]=!0;else hot._declinedDependencies[dep]=!0},dispose:function(callback){hot._disposeHandlers.push(callback)},addDisposeHandler:function(callback){hot._disposeHandlers.push(callback)},removeDisposeHandler:function(callback){var idx=hot._disposeHandlers.indexOf(callback);idx>=0&&hot._disposeHandlers.splice(idx,1)},check:hotCheck,apply:hotApply,status:function(l){if(!l)return hotStatus;hotStatusHandlers.push(l)},addStatusHandler:function(l){hotStatusHandlers.push(l)},removeStatusHandler:function(l){var idx=hotStatusHandlers.indexOf(l);idx>=0&&hotStatusHandlers.splice(idx,1)},data:hotCurrentModuleData[moduleId]};return hotCurrentChildModule=void 0,hot}function hotSetStatus(newStatus){hotStatus=newStatus;for(var i=0;i<hotStatusHandlers.length;i++)hotStatusHandlers[i].call(null,newStatus)}function toModuleId(id){return+id+""===id?+id:id}function hotCheck(apply){if("idle"!==hotStatus)throw new Error("check() is only allowed in idle status");return hotApplyOnUpdate=apply,hotSetStatus("check"),hotDownloadManifest(hotRequestTimeout).then(function(update){if(!update)return hotSetStatus("idle"),null;hotRequestedFilesMap={},hotWaitingFilesMap={},hotAvailableFilesMap=update.c,hotUpdateNewHash=update.h,hotSetStatus("prepare");var promise=new Promise(function(resolve,reject){hotDeferred={resolve:resolve,reject:reject}});hotUpdate={};return hotEnsureUpdateChunk(0),"prepare"===hotStatus&&0===hotChunksLoading&&0===hotWaitingFiles&&hotUpdateDownloaded(),promise})}function hotAddUpdateChunk(chunkId,moreModules){if(hotAvailableFilesMap[chunkId]&&hotRequestedFilesMap[chunkId]){hotRequestedFilesMap[chunkId]=!1;for(var moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(hotUpdate[moduleId]=moreModules[moduleId]);0==--hotWaitingFiles&&0===hotChunksLoading&&hotUpdateDownloaded()}}function hotEnsureUpdateChunk(chunkId){hotAvailableFilesMap[chunkId]?(hotRequestedFilesMap[chunkId]=!0,hotWaitingFiles++,hotDownloadUpdateChunk(chunkId)):hotWaitingFilesMap[chunkId]=!0}function hotUpdateDownloaded(){hotSetStatus("ready");var deferred=hotDeferred;if(hotDeferred=null,deferred)if(hotApplyOnUpdate)Promise.resolve().then(function(){return hotApply(hotApplyOnUpdate)}).then(function(result){deferred.resolve(result)},function(err){deferred.reject(err)});else{var outdatedModules=[];for(var id in hotUpdate)Object.prototype.hasOwnProperty.call(hotUpdate,id)&&outdatedModules.push(toModuleId(id));deferred.resolve(outdatedModules)}}function hotApply(options){function addAllToSet(a,b){for(var i=0;i<b.length;i++){var item=b[i];a.indexOf(item)<0&&a.push(item)}}if("ready"!==hotStatus)throw new Error("apply() is only allowed in ready status");options=options||{};var cb,i,j,module,moduleId,outdatedDependencies={},outdatedModules=[],appliedUpdate={},warnUnexpectedRequire=function(){};for(var id in hotUpdate)if(Object.prototype.hasOwnProperty.call(hotUpdate,id)){moduleId=toModuleId(id);var result;result=hotUpdate[id]?function(updateModuleId){for(var outdatedModules=[updateModuleId],outdatedDependencies={},queue=outdatedModules.slice().map(function(id){return{chain:[id],id:id}});queue.length>0;){var queueItem=queue.pop(),moduleId=queueItem.id,chain=queueItem.chain;if((module=installedModules[moduleId])&&!module.hot._selfAccepted){if(module.hot._selfDeclined)return{type:"self-declined",chain:chain,moduleId:moduleId};if(module.hot._main)return{type:"unaccepted",chain:chain,moduleId:moduleId};for(var i=0;i<module.parents.length;i++){var parentId=module.parents[i],parent=installedModules[parentId];if(parent){if(parent.hot._declinedDependencies[moduleId])return{type:"declined",chain:chain.concat([parentId]),moduleId:moduleId,parentId:parentId};outdatedModules.indexOf(parentId)>=0||(parent.hot._acceptedDependencies[moduleId]?(outdatedDependencies[parentId]||(outdatedDependencies[parentId]=[]),addAllToSet(outdatedDependencies[parentId],[moduleId])):(delete outdatedDependencies[parentId],outdatedModules.push(parentId),queue.push({chain:chain.concat([parentId]),id:parentId})))}}}}return{type:"accepted",moduleId:updateModuleId,outdatedModules:outdatedModules,outdatedDependencies:outdatedDependencies}}(moduleId):{type:"disposed",moduleId:id};var abortError=!1,doApply=!1,doDispose=!1,chainInfo="";switch(result.chain&&(chainInfo="\nUpdate propagation: "+result.chain.join(" -> ")),result.type){case"self-declined":options.onDeclined&&options.onDeclined(result),options.ignoreDeclined||(abortError=new Error("Aborted because of self decline: "+result.moduleId+chainInfo));break;case"declined":options.onDeclined&&options.onDeclined(result),options.ignoreDeclined||(abortError=new Error("Aborted because of declined dependency: "+result.moduleId+" in "+result.parentId+chainInfo));break;case"unaccepted":options.onUnaccepted&&options.onUnaccepted(result),options.ignoreUnaccepted||(abortError=new Error("Aborted because "+moduleId+" is not accepted"+chainInfo));break;case"accepted":options.onAccepted&&options.onAccepted(result),doApply=!0;break;case"disposed":options.onDisposed&&options.onDisposed(result),doDispose=!0;break;default:throw new Error("Unexception type "+result.type)}if(abortError)return hotSetStatus("abort"),Promise.reject(abortError);if(doApply){appliedUpdate[moduleId]=hotUpdate[moduleId],addAllToSet(outdatedModules,result.outdatedModules);for(moduleId in result.outdatedDependencies)Object.prototype.hasOwnProperty.call(result.outdatedDependencies,moduleId)&&(outdatedDependencies[moduleId]||(outdatedDependencies[moduleId]=[]),addAllToSet(outdatedDependencies[moduleId],result.outdatedDependencies[moduleId]))}doDispose&&(addAllToSet(outdatedModules,[result.moduleId]),appliedUpdate[moduleId]=warnUnexpectedRequire)}var outdatedSelfAcceptedModules=[];for(i=0;i<outdatedModules.length;i++)moduleId=outdatedModules[i],installedModules[moduleId]&&installedModules[moduleId].hot._selfAccepted&&outdatedSelfAcceptedModules.push({module:moduleId,errorHandler:installedModules[moduleId].hot._selfAccepted});hotSetStatus("dispose"),Object.keys(hotAvailableFilesMap).forEach(function(chunkId){!1===hotAvailableFilesMap[chunkId]&&hotDisposeChunk(chunkId)});for(var idx,queue=outdatedModules.slice();queue.length>0;)if(moduleId=queue.pop(),module=installedModules[moduleId]){var data={},disposeHandlers=module.hot._disposeHandlers;for(j=0;j<disposeHandlers.length;j++)(cb=disposeHandlers[j])(data);for(hotCurrentModuleData[moduleId]=data,module.hot.active=!1,delete installedModules[moduleId],delete outdatedDependencies[moduleId],j=0;j<module.children.length;j++){var child=installedModules[module.children[j]];child&&((idx=child.parents.indexOf(moduleId))>=0&&child.parents.splice(idx,1))}}var dependency,moduleOutdatedDependencies;for(moduleId in outdatedDependencies)if(Object.prototype.hasOwnProperty.call(outdatedDependencies,moduleId)&&(module=installedModules[moduleId]))for(moduleOutdatedDependencies=outdatedDependencies[moduleId],j=0;j<moduleOutdatedDependencies.length;j++)dependency=moduleOutdatedDependencies[j],(idx=module.children.indexOf(dependency))>=0&&module.children.splice(idx,1);hotSetStatus("apply"),hotCurrentHash=hotUpdateNewHash;for(moduleId in appliedUpdate)Object.prototype.hasOwnProperty.call(appliedUpdate,moduleId)&&(modules[moduleId]=appliedUpdate[moduleId]);var error=null;for(moduleId in outdatedDependencies)if(Object.prototype.hasOwnProperty.call(outdatedDependencies,moduleId)&&(module=installedModules[moduleId])){moduleOutdatedDependencies=outdatedDependencies[moduleId];var callbacks=[];for(i=0;i<moduleOutdatedDependencies.length;i++)if(dependency=moduleOutdatedDependencies[i],cb=module.hot._acceptedDependencies[dependency]){if(callbacks.indexOf(cb)>=0)continue;callbacks.push(cb)}for(i=0;i<callbacks.length;i++){cb=callbacks[i];try{cb(moduleOutdatedDependencies)}catch(err){options.onErrored&&options.onErrored({type:"accept-errored",moduleId:moduleId,dependencyId:moduleOutdatedDependencies[i],error:err}),options.ignoreErrored||error||(error=err)}}}for(i=0;i<outdatedSelfAcceptedModules.length;i++){var item=outdatedSelfAcceptedModules[i];moduleId=item.module,hotCurrentParents=[moduleId];try{__webpack_require__(moduleId)}catch(err){if("function"==typeof item.errorHandler)try{item.errorHandler(err)}catch(err2){options.onErrored&&options.onErrored({type:"self-accept-error-handler-errored",moduleId:moduleId,error:err2,orginalError:err,originalError:err}),options.ignoreErrored||error||(error=err2),error||(error=err)}else options.onErrored&&options.onErrored({type:"self-accept-errored",moduleId:moduleId,error:err}),options.ignoreErrored||error||(error=err)}}return error?(hotSetStatus("fail"),Promise.reject(error)):(hotSetStatus("idle"),new Promise(function(resolve){resolve(outdatedModules)}))}function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{},hot:hotCreateModule(moduleId),parents:(hotCurrentParentsTemp=hotCurrentParents,hotCurrentParents=[],hotCurrentParentsTemp),children:[]};return modules[moduleId].call(module.exports,module,module.exports,hotCreateRequire(moduleId)),module.l=!0,module.exports}var parentHotUpdateCallback=window.webpackHotUpdate;window.webpackHotUpdate=function(chunkId,moreModules){hotAddUpdateChunk(chunkId,moreModules),parentHotUpdateCallback&&parentHotUpdateCallback(chunkId,moreModules)};var hotCurrentChildModule,hotDeferred,hotUpdate,hotUpdateNewHash,hotApplyOnUpdate=!0,hotCurrentHash="94606c75e8a85c2e59c0",hotRequestTimeout=1e4,hotCurrentModuleData={},hotCurrentParents=[],hotCurrentParentsTemp=[],hotStatusHandlers=[],hotStatus="idle",hotWaitingFiles=0,hotChunksLoading=0,hotWaitingFilesMap={},hotRequestedFilesMap={},hotAvailableFilesMap={},installedModules={};__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__.h=function(){return hotCurrentHash},hotCreateRequire(66)(__webpack_require__.s=66)}([function(module,exports){var core=module.exports={version:"2.5.6"};"number"==typeof __e&&(__e=core)},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports,__webpack_require__){var store=__webpack_require__(28)("wks"),uid=__webpack_require__(18),Symbol=__webpack_require__(1).Symbol,USE_SYMBOL="function"==typeof Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))}).store=store},function(module,exports,__webpack_require__){var global=__webpack_require__(1),core=__webpack_require__(0),ctx=__webpack_require__(15),hide=__webpack_require__(9),has=__webpack_require__(8),$export=function(type,name,source){var key,own,out,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype,target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{}).prototype;IS_GLOBAL&&(source=name);for(key in source)(own=!IS_FORCED&&target&&void 0!==target[key])&&has(exports,key)||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};return F.prototype=C.prototype,F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports.virtual||(exports.virtual={}))[key]=out,type&$export.R&&expProto&&!expProto[key]&&hide(expProto,key,out)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports,__webpack_require__){var isObject=__webpack_require__(5);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var anObject=__webpack_require__(4),IE8_DOM_DEFINE=__webpack_require__(42),toPrimitive=__webpack_require__(32),dP=Object.defineProperty;exports.f=__webpack_require__(6)?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){var dP=__webpack_require__(7),createDesc=__webpack_require__(20);module.exports=__webpack_require__(6)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(40),defined=__webpack_require__(25);module.exports=function(it){return IObject(defined(it))}},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(39),enumBugKeys=__webpack_require__(29);module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports){module.exports=!0},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(19);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){var defined=__webpack_require__(25);module.exports=function(it){return Object(defined(it))}},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports,__webpack_require__){var def=__webpack_require__(7).f,has=__webpack_require__(8),TAG=__webpack_require__(2)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _defineProperty=__webpack_require__(96),_defineProperty2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_defineProperty);exports.default=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),(0,_defineProperty2.default)(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}()},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports){module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports,__webpack_require__){var shared=__webpack_require__(28)("keys"),uid=__webpack_require__(18);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports,__webpack_require__){var core=__webpack_require__(0),global=__webpack_require__(1),store=global["__core-js_shared__"]||(global["__core-js_shared__"]={});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:core.version,mode:__webpack_require__(14)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports,__webpack_require__){var $export=__webpack_require__(3),core=__webpack_require__(0),fails=__webpack_require__(11);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(5),document=__webpack_require__(1).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(5);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(4),dPs=__webpack_require__(47),enumBugKeys=__webpack_require__(29),IE_PROTO=__webpack_require__(27)("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=__webpack_require__(31)("iframe"),i=enumBugKeys.length;for(iframe.style.display="none",__webpack_require__(48).appendChild(iframe),iframe.src="javascript:",iframeDocument=iframe.contentWindow.document,iframeDocument.open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict.prototype[enumBugKeys[i]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},function(module,exports,__webpack_require__){"use strict";function PromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)}var aFunction=__webpack_require__(19);module.exports.f=function(C){return new PromiseCapability(C)}},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){exports.f=__webpack_require__(2)},function(module,exports,__webpack_require__){var global=__webpack_require__(1),core=__webpack_require__(0),LIBRARY=__webpack_require__(14),wksExt=__webpack_require__(36),defineProperty=__webpack_require__(7).f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(70),__esModule:!0}},function(module,exports,__webpack_require__){var has=__webpack_require__(8),toIObject=__webpack_require__(10),arrayIndexOf=__webpack_require__(72)(!1),IE_PROTO=__webpack_require__(27)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var cof=__webpack_require__(13);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(26),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(6)&&!__webpack_require__(11)(function(){return 7!=Object.defineProperty(__webpack_require__(31)("div"),"a",{get:function(){return 7}}).a})},function(module,exports){},function(module,exports,__webpack_require__){"use strict";var $at=__webpack_require__(77)(!0);__webpack_require__(45)(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},function(module,exports,__webpack_require__){"use strict";var LIBRARY=__webpack_require__(14),$export=__webpack_require__(3),redefine=__webpack_require__(46),hide=__webpack_require__(9),Iterators=__webpack_require__(16),$iterCreate=__webpack_require__(78),setToStringTag=__webpack_require__(21),getPrototypeOf=__webpack_require__(49),ITERATOR=__webpack_require__(2)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case"keys":case"values":return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES="values"==DEFAULT,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME?proto.entries||$native:$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||"function"==typeof IteratorPrototype[ITERATOR]||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&"values"!==$native.name&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod("values"),keys:IS_SET?$default:getMethod("keys"),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)},function(module,exports,__webpack_require__){var dP=__webpack_require__(7),anObject=__webpack_require__(4),getKeys=__webpack_require__(12);module.exports=__webpack_require__(6)?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports,__webpack_require__){var document=__webpack_require__(1).document;module.exports=document&&document.documentElement},function(module,exports,__webpack_require__){var has=__webpack_require__(8),toObject=__webpack_require__(17),IE_PROTO=__webpack_require__(27)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},function(module,exports,__webpack_require__){__webpack_require__(79);for(var global=__webpack_require__(1),hide=__webpack_require__(9),Iterators=__webpack_require__(16),TO_STRING_TAG=__webpack_require__(2)("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=global[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=Iterators.Array}},function(module,exports,__webpack_require__){var cof=__webpack_require__(13),TAG=__webpack_require__(2)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}()),tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=tryGet(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(4),aFunction=__webpack_require__(19),SPECIES=__webpack_require__(2)("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||void 0==(S=anObject(C)[SPECIES])?D:aFunction(S)}},function(module,exports,__webpack_require__){var defer,channel,port,ctx=__webpack_require__(15),invoke=__webpack_require__(88),html=__webpack_require__(48),cel=__webpack_require__(31),global=__webpack_require__(1),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function(id){delete queue[id]},"process"==__webpack_require__(13)(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(ctx(run,id,1))}:MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer="onreadystatechange"in cel("script")?function(id){html.appendChild(cel("script")).onreadystatechange=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}},function(module,exports){module.exports=function(exec){try{return{e:!1,v:exec()}}catch(e){return{e:!0,v:e}}}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(4),isObject=__webpack_require__(5),newPromiseCapability=__webpack_require__(34);module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise}},function(module,exports){function getFilter(smooth,mipmap,miplinear){return 9728|+smooth|+mipmap<<8|+(mipmap&&miplinear)<<1}function Texture(gl,format){this._uid=_UID++,this.gl=gl,this.id=this.gl.createTexture(),this.width=0,this.height=0,this.format=format||gl.RGB,this.type=gl.UNSIGNED_BYTE,this.img=null,gl.bindTexture(T2D,this.id),this.setFilter(!0)}var _UID=0,T2D=3553;Texture.prototype={fromImage:function(img){var gl=this.gl;this.img=img,this.width=img.width,this.height=img.height,gl.bindTexture(T2D,this.id),gl.texImage2D(T2D,0,this.format,this.format,this.type,img)},fromData:function(width,height,data,dataType){var gl=this.gl;this.width=width,this.height=height,data=data||null,this.type=dataType||gl.UNSIGNED_BYTE,gl.bindTexture(T2D,this.id),gl.texImage2D(T2D,0,this.format,width,height,0,this.format,this.type,data)},bind:function(unit){var gl=this.gl;void 0!==unit&&gl.activeTexture(gl.TEXTURE0+(0|unit)),gl.bindTexture(T2D,this.id)},dispose:function(){this.gl&&this.gl.deleteTexture(this.id),this.id=null,this.gl=null},setFilter:function(smooth,mipmap,miplinear){var gl=this.gl,filter=getFilter(!!smooth,!!mipmap,!!miplinear);gl.texParameteri(T2D,gl.TEXTURE_MAG_FILTER,getFilter(!!smooth,!1,!1)),gl.texParameteri(T2D,gl.TEXTURE_MIN_FILTER,filter)},repeat:function(){this.wrap(this.gl.REPEAT)},clamp:function(){this.wrap(this.gl.CLAMP_TO_EDGE)},mirror:function(){this.wrap(this.gl.MIRRORED_REPEAT)},wrap:function(_wrap){var gl=this.gl;gl.texParameteri(T2D,gl.TEXTURE_WRAP_S,_wrap),gl.texParameteri(T2D,gl.TEXTURE_WRAP_T,_wrap)}},module.exports=Texture},function(module,__webpack_exports__,__webpack_require__){"use strict";function glsl(strings){for(var _len=arguments.length,variables=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)variables[_key-1]=arguments[_key];variables=variables.map(function(v){return""+__WEBPACK_IMPORTED_MODULE_9_color_string___default.a.get(v).value.map(function(x){return x/255}).slice(0,3).join(", ")});var str=[];return strings.forEach(function(x,i){str.push(x),str.push(variables[i]||"")}),str.join("")}var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_taggedTemplateLiteral__=__webpack_require__(104),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_taggedTemplateLiteral___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_taggedTemplateLiteral__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__=__webpack_require__(111),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__=__webpack_require__(115),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__=__webpack_require__(118),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__=__webpack_require__(129),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_assign__=__webpack_require__(59),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_assign__),__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_classCallCheck__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_classCallCheck___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_classCallCheck__),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_helpers_createClass__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_helpers_createClass___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_babel_runtime_helpers_createClass__),__WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_object_keys__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_object_keys___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_object_keys__),__WEBPACK_IMPORTED_MODULE_9_color_string__=__webpack_require__(137),__WEBPACK_IMPORTED_MODULE_9_color_string___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_color_string__),__WEBPACK_IMPORTED_MODULE_10_libs_glTexture__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_10_libs_glTexture___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_libs_glTexture__),__WEBPACK_IMPORTED_MODULE_11_dat_gui__=__webpack_require__(141),__WEBPACK_IMPORTED_MODULE_12_libs_glBuffer__=__webpack_require__(142),_templateObject=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_taggedTemplateLiteral___default()(["",""],["",""]),gui=new __WEBPACK_IMPORTED_MODULE_11_dat_gui__.a({width:300});__WEBPACK_IMPORTED_MODULE_11_dat_gui__.a.prototype.removeFolders=function(){for(var t=__WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_object_keys___default()(this.__folders),i=0;i<t.length;i++){var folder=this.__folders[t[i]];if(!folder)return;folder.close(),this.__ul.removeChild(folder.domElement.parentNode),delete this.__folders[t[i]]}this.onResize()};var Filter=function(){function Filter(filterWrapper){var _this=this;__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_classCallCheck___default()(this,Filter),this._params={},this._layers=[{fshader:__webpack_require__(143),attributes:{name:"position",data:[-1,-1,-1,-1,4,-1,4,-1,-1],size:3},textures:[{name:"pants"}],uniforms:{texture:0,flipY:1}}],this.gl=null,this.vBuffers=[],this.textures=[],this._wrapper=filterWrapper,this.gl=this._wrapper.gl,gui.removeFolders(),this._setGUI(),this._setLayers(),this._layers.map(function(layer,i){_this._initTextures(layer.textures)}),this._wrapper.textures=this.textures,filterWrapper._resize(this.textures[0].width,this.textures[0].height)}return __WEBPACK_IMPORTED_MODULE_7_babel_runtime_helpers_createClass___default()(Filter,[{key:"_setLayers",value:function(){}},{key:"render",value:function(){var _this2=this;this.vBuffers=this._wrapper.vBuffers=[],this._layers.map(function(layer,i){_this2._prepare(layer),_this2._draw(i)})}},{key:"_prepare",value:function(layer){this.prg=this._wrapper._compilePrg(layer.fshader),this.prg.use(),this._bufferAndAttrib(layer.attributes)}},{key:"_draw",value:function(){this.prg.style(this._layers[0].uniforms),this.gl.drawArrays(this.gl.TRIANGLES,0,3)}},{key:"_bufferAndAttrib",value:function(_ref){var _this3=this,data=_ref.data,name=_ref.name,size=_ref.size;data=new Float32Array(data);var vBuffer=new __WEBPACK_IMPORTED_MODULE_12_libs_glBuffer__.a(this.gl,data);vBuffer.attrib(name,size,this.gl.FLOAT),this.vBuffers.push(vBuffer),this.vBuffers.map(function(vBuffer){vBuffer.attribPointer(_this3.prg)})}},{key:"_initTextures",value:function(textures){var _this4=this;textures.map(function(texture){var i=window.getAssets[texture.name],t=new __WEBPACK_IMPORTED_MODULE_10_libs_glTexture___default.a(_this4.gl,_this4.gl.RGBA);_this4.textures.push(t),t.fromImage(i),t.setFilter(!1),t.clamp()})}},{key:"_setGUI",value:function(){}},{key:"addGUIParams",value:function(o){return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_assign___default()(this._params,o)}},{key:"params",get:function(){return this._params},set:function(param){throw Error("Params has no setter,please use addGUIParams")}}]),Filter}(),grayFocus=function(_Filter){function grayFocus(filterWrapper){return __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_classCallCheck___default()(this,grayFocus),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this,(grayFocus.__proto__||__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(grayFocus)).call(this,filterWrapper))}return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default()(grayFocus,_Filter),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_helpers_createClass___default()(grayFocus,[{key:"_setLayers",value:function(){this._layers[0].fshader=__webpack_require__(144),this._layers[0].textures=[{name:"p7"}]}},{key:"_draw",value:function(i){var gl=this.gl;this.prg.style(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({},this._layers[0].uniforms,{lt:this.params.lt,gt:this.params.gt,clamp:this.params.clamp?1:0})),gl.drawArrays(gl.TRIANGLES,0,3)}},{key:"_setGUI",value:function(){this.addGUIParams({lt:.2,gt:.98,clamp:!1});var folder=gui.addFolder("grayFocus");folder.add(this.params,"lt",0,1).step(.01),folder.add(this.params,"gt",0,1).step(.01),folder.add(this.params,"clamp"),folder.open()}}]),grayFocus}(Filter),cartoon=function(_Filter2){function cartoon(filterWrapper){return __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_classCallCheck___default()(this,cartoon),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this,(cartoon.__proto__||__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(cartoon)).call(this,filterWrapper))}return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default()(cartoon,_Filter2),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_helpers_createClass___default()(cartoon,[{key:"_setLayers",value:function(){this._layers[0].fshader=__webpack_require__(145)}},{key:"_draw",value:function(wrapper){this.textures[0].bind(0),this.prg.style(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({HueLevels:[0,80,160,240,320,360],SatLevels:[0,.15,.3,.45,.6,.8,1],ValLevels:[0,.3,.6,1],textureSize:[this._wrapper._width,this._wrapper._height]},this._layers[0].uniforms)),this.gl.drawArrays(this.gl.TRIANGLES,0,3)}}]),cartoon}(Filter),bond=(function(_Filter3){function notebookDrawing(filterWrapper){return __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_classCallCheck___default()(this,notebookDrawing),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this,(notebookDrawing.__proto__||__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(notebookDrawing)).call(this,filterWrapper))}__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default()(notebookDrawing,_Filter3),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_helpers_createClass___default()(notebookDrawing,[{key:"_setLayers",value:function(){this._time=0,this._layers[0].fshader=__webpack_require__(146),this._layers[0].texture=[{name:"p1"},{name:"noise256"}]}},{key:"_draw",value:function(wrapper){var program=this.prg,gl=this.gl;gl.uniform1i(program.iChannel0(),0),gl.uniform1i(program.iChannel1(),1),this.textures[0].bind(0),this.textures[1].bind(1),this.prg.style(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({iResolution:[this._wrapper._width,this._wrapper._height],Res1:[this._wrapper._width,this._wrapper._height],iGlobalTime:this._time},this._layers[0].uniforms)),gl.drawArrays(gl.TRIANGLES,0,3)}}])}(Filter),function(_Filter4){function bond(filterWrapper){return __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_classCallCheck___default()(this,bond),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this,(bond.__proto__||__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(bond)).call(this,filterWrapper))}return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default()(bond,_Filter4),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_helpers_createClass___default()(bond,[{key:"_setLayers",value:function(){this._layers[0].fshader=__webpack_require__(147),this._layers[0].textures.push({name:"p4"})}},{key:"_draw",value:function(i){var gl=this.gl,t=glsl(_templateObject,this.params.filterColor).split(",");gl.uniform1i(this.prg.texture(),1),gl.uniform1i(this.prg.targetBg(),0),this.textures[0].bind(0),this.textures[1].bind(1),this.prg.style(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({},this._layers[0].uniforms,{filterRange:this.params.filterRange,filterBg:t,iResolution:[gl.drawingBufferWidth,gl.drawingBufferHeight],targetBg:1})),gl.drawArrays(gl.TRIANGLES,0,3)}},{key:"_setGUI",value:function(){this.addGUIParams({filterColor:"#0DA226",filterRange:.05});var folder=gui.addFolder("bondFilter");folder.addColor(this.params,"filterColor"),folder.add(this.params,"filterRange",0,.1).step(.001),folder.open()}}]),bond}(Filter)),bloom=function(_Filter5){function bloom(filterWrapper){return __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_classCallCheck___default()(this,bloom),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this,(bloom.__proto__||__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(bloom)).call(this,filterWrapper))}return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default()(bloom,_Filter5),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_helpers_createClass___default()(bloom,[{key:"_setLayers",value:function(){this._time=0,this._layers[0].fshader=__webpack_require__(148)}},{key:"_draw",value:function(i){var gl=this.gl;this._time+=.03125,this.prg.style(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({},this._layers[0].uniforms,{iGlobalTime:this._time})),this.textures[i].bind(0),gl.drawArrays(gl.TRIANGLES,0,3)}}]),bloom}(Filter),Cloth=function(_Filter6){function Cloth(filterWrapper){return __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_classCallCheck___default()(this,Cloth),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this,(Cloth.__proto__||__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(Cloth)).call(this,filterWrapper))}return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default()(Cloth,_Filter6),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_helpers_createClass___default()(Cloth,[{key:"_setLayers",value:function(){this._layers.push({fshader:__webpack_require__(149),attributes:{name:"position",data:[-1,-1,1,-1,4,1,4,-1,1],size:3},textures:[{name:"shirt"}],uniforms:{texture:0,flipY:1}}),this._layers[0].fshader=__webpack_require__(150)}},{key:"_draw",value:function(i){var gl=this.gl;0===i&&this.prg.style(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({},this._layers[0].uniforms,{c1X:this.params.c1X,c1Y:this.params.c1Y})),1===i&&this.prg.style(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({},this._layers[1].uniforms,{c2X:this.params.c2X,c2Y:this.params.c2Y})),this.textures[i].bind(0),gl.disable(gl.DEPTH_TEST),gl.drawArrays(gl.TRIANGLES,0,3),gl.enable(gl.DEPTH_TEST)}},{key:"_setGUI",value:function(){this.addGUIParams({c1X:100,c1Y:100,c2X:-150,c2Y:100});var folder1=gui.addFolder("cloth1");folder1.add(this.params,"c1X",-this._wrapper._width,this._wrapper._width).step(1),folder1.add(this.params,"c1Y",-this._wrapper._height,this._wrapper._height).step(1),folder1.open();var folder2=gui.addFolder("cloth2");folder2.add(this.params,"c2X",-this._wrapper._width,this._wrapper._width).step(1),folder2.add(this.params,"c2Y",-this._wrapper._height,this._wrapper._height).step(1),folder2.open()}}]),Cloth}(Filter),edge=function(_Filter7){function edge(filterWrapper){return __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_classCallCheck___default()(this,edge),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this,(edge.__proto__||__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(edge)).call(this,filterWrapper))}return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default()(edge,_Filter7),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_helpers_createClass___default()(edge,[{key:"_setLayers",value:function(){this._layers[0].textures=[{name:"TajMahal"}],this._layers[0].fshader=__webpack_require__(151)}},{key:"_draw",value:function(){this.textures[0].bind(0),this.prg.style(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({},this._layers[0].uniforms,{px:[1/this._wrapper._width,1/this._wrapper._height],mx:[-1,0,1,-2,0,2,-1,0,1],my:[-1,-2,-1,0,0,0,1,2,1]})),this.gl.drawArrays(this.gl.TRIANGLES,0,3)}}]),edge}(Filter);__webpack_exports__.a={Filter:Filter,grayFocus:grayFocus,cartoon:cartoon,bond:bond,bloom:bloom,Cloth:Cloth,edge:edge}},function(module,exports,__webpack_require__){var META=__webpack_require__(18)("meta"),isObject=__webpack_require__(5),has=__webpack_require__(8),setDesc=__webpack_require__(7).f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!__webpack_require__(11)(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak=function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze=function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it},meta=module.exports={KEY:META,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(112),__esModule:!0}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0;var _iterator=__webpack_require__(119),_iterator2=_interopRequireDefault(_iterator),_symbol=__webpack_require__(121),_symbol2=_interopRequireDefault(_symbol),_typeof="function"==typeof _symbol2.default&&"symbol"==typeof _iterator2.default?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof _symbol2.default&&obj.constructor===_symbol2.default&&obj!==_symbol2.default.prototype?"symbol":typeof obj};exports.default="function"==typeof _symbol2.default&&"symbol"===_typeof(_iterator2.default)?function(obj){return void 0===obj?"undefined":_typeof(obj)}:function(obj){return obj&&"function"==typeof _symbol2.default&&obj.constructor===_symbol2.default&&obj!==_symbol2.default.prototype?"symbol":void 0===obj?"undefined":_typeof(obj)}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(39),hiddenKeys=__webpack_require__(29).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return $keys(O,hiddenKeys)}},function(module,exports,__webpack_require__){var pIE=__webpack_require__(24),createDesc=__webpack_require__(20),toIObject=__webpack_require__(10),toPrimitive=__webpack_require__(32),has=__webpack_require__(8),IE8_DOM_DEFINE=__webpack_require__(42),gOPD=Object.getOwnPropertyDescriptor;exports.f=__webpack_require__(6)?gOPD:function(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);!function(){function Emitter(){__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this,Emitter)}__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(Emitter,null,[{key:"emit",value:function(event,data){var bubbling=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],cancelable=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],e=void 0;window.CustomEvent&&!window.isIE?e=new CustomEvent(event,{bubbles:bubbling,cancelable:cancelable,detail:data}):(e=document.createEvent("CustomEvent"),e.initCustomEvent(event,bubbling,cancelable,data)),window.dispatchEvent(e)}},{key:"on",value:function(event,callback){window.addEventListener(event,callback)}}])}()},function(module,exports){function isFunction(fn){var string=toString.call(fn);return"[object Function]"===string||"function"==typeof fn&&"[object RegExp]"!==string||"undefined"!=typeof window&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt)}module.exports=isFunction;var toString=Object.prototype.toString},function(module,exports,__webpack_require__){"use strict";function toObject(val){if(null===val||void 0===val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map(function(n){return test2[n]}).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from)hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},function(module,__webpack_exports__,__webpack_require__){"use strict";function readFile(file,loadCall){var reader=new FileReader;reader.addEventListener("load",function(event){loadCall(event)}),reader.readAsDataURL(file)}function isType(name,type){var allowedExtension=void 0;if("img"===type)allowedExtension=["jpeg","jpg","png","gif","bmp"];else{if("video"!==type)return!1;allowedExtension=["mp4","webm","ogg"]}var isValidFile=void 0,t=name.split(".").pop().toLowerCase();for(var index in allowedExtension)if(t===allowedExtension[index]){isValidFile=!0;break}return isValidFile}function append(parent,child,option){var elm=void 0;if("string"==typeof child){if(/<(.+?)\b/i.test(child)&&(elm=document.createElement(RegExp.$1)),"once"===option){var exist=void 0;if(/id="?(.+?)"?/i.test(child)?exist=document.getElementById(RegExp.$1):/class="?(.+?)"?/i.test(child)&&(exist=document.getElementsByClassName(RegExp.$1)[0]),exist)return exist}}else if(elm=child,"once"===option){var _exist=void 0;if(elm.id?_exist=document.getElementById(elm.id):elm.className&&(_exist=document.getElementsByClassName(elm.className)[0]),_exist)return _exist}return parent.appendChild(elm),"string"==typeof child&&requestAnimationFrame(function(){elm.outerHTML=child}),elm}function toggle(parent,child,className){parent.querySelector("."+className)&&parent.querySelector("."+className).classList.remove(className),child.classList.add(className)}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__=__webpack_require__(74),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__),__WEBPACK_IMPORTED_MODULE_5__FilterApp__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_6_load_asset__=__webpack_require__(153),__WEBPACK_IMPORTED_MODULE_6_load_asset___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_load_asset__),__WEBPACK_IMPORTED_MODULE_7__Filter__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_8__scss_main_scss__=__webpack_require__(168),assets=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__scss_main_scss__),__webpack_require__(63),{p7:"p7.jpg",p6:"p6.jpg",p5:"p5.jpg",p4:"p4.jpg",p3:"p3.jpg",p2:"p2.jpg",p1:"p1.jpg",noise256:"noise256.png",pants:"pants.jpg",shirt:"shirt.jpg",TajMahal:"TajMahal.jpg"});for(var k in assets)assets[k]="/webglFilter/src/textures/"+assets[k];var canvasWrapper=document.querySelector(".canvas-wrapper"),file=(document.querySelector("canvas"),document.getElementById("change-target")),imgWrapper=document.querySelector(".img-wrapper"),effects=["normal"],presets=[{brightness:[1.5]},{saturation:[1.5]},{contrast:[1.5]},{hue:[180]},{triangleBlur:[30]}],App=function(){function App(){__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default()(this,App),this.imgs=[],this.layers=[{shaders:[],buffers:[]}],this.filterApp=null}return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default()(App,[{key:"init",value:function(){function init(){return _ref.apply(this,arguments)}var _ref=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(effects.concat(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(__WEBPACK_IMPORTED_MODULE_7__Filter__.a)).filter(function(v){return"Filter"!==v}).map(function(effect){var div=document.createElement("div");canvasWrapper.appendChild(div),div.outerHTML='<button class="effect '+effect+'">'+effect+"</button>"}),!(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(assets).length>0)){_context.next=6;break}return _context.next=4,__WEBPACK_IMPORTED_MODULE_6_load_asset___default.a.any(assets,function(e){e.error});case 4:window.getAssets=_context.sent,this._onImageLoaded();case 6:case"end":return _context.stop()}},_callee,this)}));return init}()},{key:"_onImageLoaded",value:function(o){var _this=this;this.imgs.push(getAssets.pants),this.imgs[0].style.width=this.imgs[0].width+"px",append(imgWrapper,this.imgs[0]),this.filterApp=new __WEBPACK_IMPORTED_MODULE_5__FilterApp__.a(this.imgs[0]),canvasWrapper.addEventListener("click",function(e){if(e.target.classList.contains("effect")){toggle(canvasWrapper,e.target,"active");var effect=e.target.innerHTML;_this.filterApp.reset(),presets.includes(effect)?_this.filterApp.addFilter(effect,presets[effect][0]):["1977","Brannan","Hefe","Lord Kelvin","Nashville","X-PRO II","Gotham"].includes(effect)?(_this.filterApp.addFilter("instagramFilter",effect),"Gotham"===effect&&_this.filterApp.addFilter("Inkwell")):"normal"!==effect&&_this.filterApp.addFilter(effect);_this.filterApp.render(_this.imgs[0]);imgWrapper.innerHTML="",_this.filterApp.textures.map(function(v){var t=v.img;t.style.width=t.width+"px",imgWrapper.appendChild(t)})}}),document.querySelector(".edge").click(),this._animation()}},{key:"_animation",value:function(now){now*=.001;var id=requestAnimationFrame(this._animation.bind(this));try{this.filterApp.render(this.imgs[0])}catch(e){cancelAnimationFrame(id)}}}]),App}(),app=new App;app.init(),file.addEventListener("change",function(e){var t=e.target.files[0];if(t)if(isType(t.name,"img"))readFile(t,function(event){app.imgs[0]=new Image,app.imgs[0].src=event.target.result});else if(isType(t.name,"video")){var video=append(document.body,'<video id="target-Video" controls autoplay loop style="display:none"></video>',"once");readFile(t,function(event){video.src=event.target.result}),video.addEventListener("loadeddata",function(){app.imgs[0]=video})}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__(68)},function(module,exports,__webpack_require__){var g=function(){return this}()||Function("return this")(),hadRuntime=g.regeneratorRuntime&&Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime")>=0,oldRuntime=hadRuntime&&g.regeneratorRuntime;if(g.regeneratorRuntime=void 0,module.exports=__webpack_require__(69),hadRuntime)g.regeneratorRuntime=oldRuntime;else try{delete g.regeneratorRuntime}catch(e){g.regeneratorRuntime=void 0}},function(module,exports){!function(global){"use strict";function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=makeInvokeMethod(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},reject)}reject(record.arg)}function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}var previousPromise;this._invoke=enqueue}function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)return void(inModule&&(module.exports=runtime));runtime=global.regeneratorRuntime=inModule?module.exports:{},runtime.wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},runtime.AsyncIterator=AsyncIterator,runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootEntry=this.tryEntries[0],rootRecord=rootEntry.completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}if(this.done)throw exception;for(var context=this,i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}}}(function(){return this}()||Function("return this")())},function(module,exports,__webpack_require__){__webpack_require__(71),module.exports=__webpack_require__(0).Object.keys},function(module,exports,__webpack_require__){var toObject=__webpack_require__(17),$keys=__webpack_require__(12);__webpack_require__(30)("keys",function(){return function(it){return $keys(toObject(it))}})},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(10),toLength=__webpack_require__(41),toAbsoluteIndex=__webpack_require__(73);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(26),max=Math.max,min=Math.min;module.exports=function(index,length){return index=toInteger(index),index<0?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _promise=__webpack_require__(75),_promise2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_promise);exports.default=function(fn){return function(){var gen=fn.apply(this,arguments);return new _promise2.default(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return _promise2.default.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(76),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(43),__webpack_require__(44),__webpack_require__(50),__webpack_require__(82),__webpack_require__(94),__webpack_require__(95),module.exports=__webpack_require__(0).Promise},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(26),defined=__webpack_require__(25);module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i),a<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536)}}},function(module,exports,__webpack_require__){"use strict";var create=__webpack_require__(33),descriptor=__webpack_require__(20),setToStringTag=__webpack_require__(21),IteratorPrototype={};__webpack_require__(9)(IteratorPrototype,__webpack_require__(2)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(80),step=__webpack_require__(81),Iterators=__webpack_require__(16),toIObject=__webpack_require__(10);module.exports=__webpack_require__(45)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__webpack_require__){"use strict";var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,LIBRARY=__webpack_require__(14),global=__webpack_require__(1),ctx=__webpack_require__(15),classof=__webpack_require__(51),$export=__webpack_require__(3),isObject=__webpack_require__(5),aFunction=__webpack_require__(19),anInstance=__webpack_require__(83),forOf=__webpack_require__(84),speciesConstructor=__webpack_require__(52),task=__webpack_require__(53).set,microtask=__webpack_require__(89)(),newPromiseCapabilityModule=__webpack_require__(34),perform=__webpack_require__(54),userAgent=__webpack_require__(90),promiseResolve=__webpack_require__(55),TypeError=global.TypeError,process=global.process,versions=process&&process.versions,v8=versions&&versions.v8||"",$Promise=global.Promise,isNode="process"==classof(process),empty=function(){},newPromiseCapability=newGenericPromiseCapability=newPromiseCapabilityModule.f,USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[__webpack_require__(2)("species")]=function(exec){exec(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise&&0!==v8.indexOf("6.6")&&-1===userAgent.indexOf("Chrome/66")}catch(e){}}(),isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},notify=function(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask(function(){for(var value=promise._v,ok=1==promise._s,i=0;chain.length>i;)!function(reaction){var result,then,exited,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){domain&&!exited&&domain.exit(),reject(e)}}(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})}},onUnhandled=function(promise){task.call(global,function(){var result,handler,console,value=promise._v,unhandled=isUnhandled(promise);if(unhandled&&(result=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=void 0,unhandled&&result.e)throw result.v})},isUnhandled=function(promise){return 1!==promise._h&&0===(promise._a||promise._c).length},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$reject=function(value){var promise=this;promise._d||(promise._d=!0,promise=promise._w||promise,promise._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))},$resolve=function(value){var then,promise=this;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE||($Promise=function(executor){anInstance(this,$Promise,"Promise","_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},Internal=function(executor){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},Internal.prototype=__webpack_require__(91)($Promise.prototype,{then:function(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode?process.domain:void 0,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===$Promise||C===Wrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),__webpack_require__(21)($Promise,"Promise"),__webpack_require__(92)("Promise"),Wrapper=__webpack_require__(0).Promise,$export($export.S+$export.F*!USE_NATIVE,"Promise",{reject:function(r){var capability=newPromiseCapability(this);return(0,capability.reject)(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),"Promise",{resolve:function(x){return promiseResolve(LIBRARY&&this===Wrapper?$Promise:this,x)}}),$export($export.S+$export.F*!(USE_NATIVE&&__webpack_require__(93)(function(iter){$Promise.all(iter).catch(empty)})),"Promise",{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(void 0),remaining++,C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return result.e&&reject(result.v),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return result.e&&reject(result.v),capability.promise}})},function(module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},function(module,exports,__webpack_require__){var ctx=__webpack_require__(15),call=__webpack_require__(85),isArrayIter=__webpack_require__(86),anObject=__webpack_require__(4),toLength=__webpack_require__(41),getIterFn=__webpack_require__(87),BREAK={},RETURN={},exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);length>index;index++)if((result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]))===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if((result=call(iterator,f,step.value,entries))===BREAK||result===RETURN)return result};exports.BREAK=BREAK,exports.RETURN=RETURN},function(module,exports,__webpack_require__){var anObject=__webpack_require__(4);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&anObject(ret.call(iterator)),e}}},function(module,exports,__webpack_require__){var Iterators=__webpack_require__(16),ITERATOR=__webpack_require__(2)("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},function(module,exports,__webpack_require__){var classof=__webpack_require__(51),ITERATOR=__webpack_require__(2)("iterator"),Iterators=__webpack_require__(16);module.exports=__webpack_require__(0).getIteratorMethod=function(it){if(void 0!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},function(module,exports,__webpack_require__){var global=__webpack_require__(1),macrotask=__webpack_require__(53).set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==__webpack_require__(13)(process);module.exports=function(){var head,last,notify,flush=function(){var parent,fn;for(isNode&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=void 0,e}}last=void 0,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(!Observer||global.navigator&&global.navigator.standalone)if(Promise&&Promise.resolve){var promise=Promise.resolve(void 0);notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};else{var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}return function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}}},function(module,exports,__webpack_require__){var global=__webpack_require__(1),navigator=global.navigator;module.exports=navigator&&navigator.userAgent||""},function(module,exports,__webpack_require__){var hide=__webpack_require__(9);module.exports=function(target,src,safe){for(var key in src)safe&&target[key]?target[key]=src[key]:hide(target,key,src[key]);return target}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(1),core=__webpack_require__(0),dP=__webpack_require__(7),DESCRIPTORS=__webpack_require__(6),SPECIES=__webpack_require__(2)("species");module.exports=function(KEY){var C="function"==typeof core[KEY]?core[KEY]:global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(2)("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(3),core=__webpack_require__(0),global=__webpack_require__(1),speciesConstructor=__webpack_require__(52),promiseResolve=__webpack_require__(55);$export($export.P+$export.R,"Promise",{finally:function(onFinally){var C=speciesConstructor(this,core.Promise||global.Promise),isFunction="function"==typeof onFinally;return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then(function(){return x})}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then(function(){throw e})}:onFinally)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(3),newPromiseCapability=__webpack_require__(34),perform=__webpack_require__(54);$export($export.S,"Promise",{try:function(callbackfn){var promiseCapability=newPromiseCapability.f(this),result=perform(callbackfn);return(result.e?promiseCapability.reject:promiseCapability.resolve)(result.v),promiseCapability.promise}})},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(97),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(98);var $Object=__webpack_require__(0).Object;module.exports=function(it,key,desc){return $Object.defineProperty(it,key,desc)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.S+$export.F*!__webpack_require__(6),"Object",{defineProperty:__webpack_require__(7).f})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__),__WEBPACK_IMPORTED_MODULE_2_libs_glProgram__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_3_libs_glFbo__=__webpack_require__(103),__WEBPACK_IMPORTED_MODULE_3_libs_glFbo___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_libs_glFbo__),__WEBPACK_IMPORTED_MODULE_4__Filter__=__webpack_require__(57),SHADER=(__webpack_require__(63),{VERTEX_IDENTITY:__webpack_require__(152)}),normalFilter=null,FilterApp=function(){function FilterApp(data){__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this,FilterApp),this._drawCount=0,this._lastInChain=!1,this._curFBOIndex=-1,this._tmpFBO=[null,null],this._filterChain=[],this._width=-1,this._height=-1,this.prg=null,this._canvas=document.querySelector("canvas"),this.textures=[],this.vBuffers=[],this._createGL(),this._resize(data.width,data.height)}return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(FilterApp,[{key:"_createGL",value:function(){if(this.gl=this._canvas.getContext("webgl2")||this._canvas.getContext("experimental-webgl"),!this.gl)throw new Error("Couldn't get WebGL context");this._filter=__WEBPACK_IMPORTED_MODULE_4__Filter__.a}},{key:"addFilter",value:function(name){var args=Array.prototype.slice.call(arguments,1),Filter=this._filter[name];this._filterChain.push({instance:new Filter(this),args:args})}},{key:"reset",value:function(){this._filterChain=[],this.vBuffers.map(function(v){v.dispose()}),this.textures.map(function(v){v.dispose()})}},{key:"_setupGL",value:function(data){var gl=this.gl;"video"===data.nodeName.toLowerCase()&&(data.width=data.videoWidth,data.height=data.videoHeight),gl.clearColor(161/255,161/255,161/255,1),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT)}},{key:"render",value:function(data){if(this._setupGL(data),this._drawCount=0,0===this._filterChain.length)normalFilter||(normalFilter=new __WEBPACK_IMPORTED_MODULE_4__Filter__.a.Filter(this)),this.textures=normalFilter.textures,normalFilter.render();else for(var i=0;i<this._filterChain.length;i++)this._lastInChain=i===this._filterChain.length-1,this._filterChain[i].instance.render(this._filterChain[i].args||[]);return this._canvas}},{key:"_resize",value:function(width,height){var gl=this.gl;width===this._width&&height===this._height||(this._canvas.width=this._width=width,this._canvas.height=this._height=height,gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),gl.viewport(0,0,this._width,this._height),this._tmpFBO=[null,null])}},{key:"_getFbo",value:function(index){return this._tmpFBO[index]=this._tmpFBO[index]||this._createFbo(this._width,this._height),this._tmpFBO[index]}},{key:"_createFbo",value:function(width,height){var fbo=(this.gl,new __WEBPACK_IMPORTED_MODULE_3_libs_glFbo___default.a);return fbo.resize(width,height),{fbo:fbo.fbo,texture:fbo.color}}},{key:"_draw",value:function(toScreen){var source=null,target=null;this.flipY=!1;var gl=this.gl;source=0===this._drawCount?this.textures[0].id:this._getFbo(this._curFBOIndex).texture,this._drawCount++,this._lastInChain&&!toScreen?(target=null,this.flipY=this._drawCount%2==0):(this._curFBOIndex=(this._curFBOIndex+1)%2,target=this._getFbo(this._curFBOIndex).fbo),gl.bindTexture(gl.TEXTURE_2D,source),gl.bindFramebuffer(gl.FRAMEBUFFER,target),gl.uniform1f(this.prg.flipY(),this.flipY?-1:1),gl.drawArrays(gl.TRIANGLES,0,3)}},{key:"_compilePrg",value:function(fshader,vshader){var gl=this.gl;return this.prg=new __WEBPACK_IMPORTED_MODULE_2_libs_glProgram__.a(gl),this.prg.compile(vshader||SHADER.VERTEX_IDENTITY,fshader),this.prg}}]),FilterApp}();__webpack_exports__.a=FilterApp},function(module,__webpack_exports__,__webpack_require__){"use strict";function Program(gl,vert,frag,defs){this.gl=gl,this.program=gl.createProgram(),this.vShader=gl.createShader(gl.VERTEX_SHADER),this.fShader=gl.createShader(gl.FRAGMENT_SHADER),this.dyns=[],this.uniforms=[],this.ready=!1,gl.attachShader(this.program,this.vShader),gl.attachShader(this.program,this.fShader),this._uid=0|_UID++,this._cuid=0|_UID++,void 0!==vert&&void 0!==frag&&this.compile(vert,frag,defs)}function warn(str){}function appendLine(l,i){return __pads[String(i+1).length]+(i+1)+": "+l}function formatCode(shader){return shader.split("\n").map(appendLine).join("\n")}function compileShader(gl,shader,code){return gl.shaderSource(shader,code),gl.compileShader(shader),!(Program.debug&&!gl.getShaderParameter(shader,gl.COMPILE_STATUS))||(warn(gl.getShaderInfoLog(shader)),warn(formatCode(code)),!1)}function getUniformSetFunctionName(type){return type=String(type),"uniform"+USetFMap[type]}function getUniformSetter(type,location,gl,context){switch(type){case gl.FLOAT_MAT2:case gl.FLOAT_MAT3:case gl.FLOAT_MAT4:return getMatrixSetFunction(type,location,gl,context);case gl.SAMPLER_2D:case gl.SAMPLER_CUBE:return getSamplerSetFunction(type,location,gl,context);default:return getUniformSetFunction(type,location,gl,context)}}function getUniformSetFunction(type,location,gl,context){var fname=getUniformSetFunctionName(type);return function(){return 1===arguments.length&&void 0!==arguments[0].length?gl[fname+"v"](location,arguments[0]):arguments.length>0&&gl[fname].apply(gl,Array.prototype.concat.apply(location,arguments)),location}}function getMatrixSetFunction(type,location,gl,context){var fname=getUniformSetFunctionName(type);return function(){if(arguments.length>0&&void 0!==arguments[0].length){var transpose=arguments.length>1&&!!arguments[1];gl[fname+"v"](location,transpose,arguments[0])}return location}}function getSamplerSetFunction(type,location,gl,context){var unit=context.texIndex++;return function(){return 1===arguments.length&&(void 0!==arguments[0].bind?(arguments[0].bind(unit),gl.uniform1i(location,unit)):gl.uniform1i(location,arguments[0])),location}}function getAttribAccess(attrib){return function(){return attrib}}var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(101),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),_UID=0;Program.debug=!0,Program.prototype={use:function(){this.ready||this._grabParameters(),this.gl.useProgram(this.program)},style:function(opt){if("{}"!==__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(opt)||0!==this.uniforms.length){if("{}"===__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(opt)&&this.uniforms.length>0)throw new Error("active uniform not assigned:"+this.uniforms);for(var k in opt){if("function"!=typeof this[k])throw new Error("not find in shader:"+k);this[k](opt[k])}var unAssigned=[];if(this.uniforms.map(function(v){v in opt||unAssigned.push(v)}),unAssigned.length>0)throw new Error("active uniform not assigned: "+unAssigned)}},compile:function(vert,frag,prefix){this.ready=!1,prefix=(prefix||"")+"\n";var gl=this.gl;if(!compileShader(gl,this.fShader,prefix+frag)||!compileShader(gl,this.vShader,prefix+vert))return!1;if(gl.linkProgram(this.program),Program.debug&&!gl.getProgramParameter(this.program,gl.LINK_STATUS))return warn(gl.getProgramInfoLog(this.program)),!1;for(;this.dyns.length>0;)delete this[this.dyns.pop()];return this._cuid=0|_UID++,!0},dispose:function(){null!==this.gl&&(this.gl.deleteProgram(this.program),this.gl.deleteShader(this.fShader),this.gl.deleteShader(this.vShader),this.gl=null)},_grabParameters:function(){for(var gl=this.gl,prg=this.program,numUniforms=gl.getProgramParameter(prg,gl.ACTIVE_UNIFORMS),context={texIndex:0},uniformIndex=0;uniformIndex<numUniforms;++uniformIndex){var uniform=gl.getActiveUniform(prg,uniformIndex);if(null!==uniform){var uName=uniform.name,n=uName.indexOf("[");n>=0&&(uName=uName.substring(0,n));var uLocation=gl.getUniformLocation(prg,uniform.name);this[uName]=getUniformSetter(uniform.type,uLocation,gl,context),this.dyns.push(uName),this.uniforms.push(uName)}else gl.getError()}for(var numAttribs=gl.getProgramParameter(prg,gl.ACTIVE_ATTRIBUTES),aIndex=0;aIndex<numAttribs;++aIndex){var attribName=gl.getActiveAttrib(prg,aIndex).name,aLocation=gl.getAttribLocation(prg,attribName);this[attribName]=getAttribAccess(aLocation),this.dyns.push(attribName)}this.ready=!0}},Program.prototype.bind=Program.prototype.use;var __pads=["","   ","  "," ",""],USetFMap={};USetFMap[5126]="1f",USetFMap[35664]="2f",USetFMap[35665]="3f",USetFMap[35666]="4f",USetFMap[35670]=USetFMap[5124]=USetFMap[35678]=USetFMap[35680]="1i",USetFMap[35671]=USetFMap[35667]="2i",USetFMap[35672]=USetFMap[35668]="3i",USetFMap[35673]=USetFMap[35669]="4i",USetFMap[35674]="Matrix2f",USetFMap[35675]="Matrix3f",USetFMap[35676]="Matrix4f",__webpack_exports__.a=Program},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(102),__esModule:!0}},function(module,exports,__webpack_require__){var core=__webpack_require__(0),$JSON=core.JSON||(core.JSON={stringify:JSON.stringify});module.exports=function(it){return $JSON.stringify.apply($JSON,arguments)}},function(module,exports,__webpack_require__){function Fbo(gl,opts){this.gl=gl,this.width=0,this.height=0,this.fbo=null,opts=opts||DEFAULT_OPTS;var flags=opts.depth|opts.stencil<<1,types=opts.type||gl.UNSIGNED_BYTE;this.types=Array.isArray(types)?types:[types],this.color=new Texture(gl,opts.format),this.attachment=new DepthStencilAttachment(this,flags)}function DepthStencilAttachment(fbo,flags){this.fbo=fbo,this.flags=flags,this.buffer=null}function getAttachmentFormat(gl,type){switch(type){case 1:return 33189;case 2:return 36168;case 3:return 34041;default:throw new Error("unknown attachment type "+type)}}function getAttachmentType(gl,type){switch(type){case 1:return 36096;case 2:return 36128;case 3:return 33306;default:throw new Error("unknown attachment type "+type)}}var Texture=__webpack_require__(56);Fbo.prototype={resize:function(w,h){this.width===w&&this.height===h||(this.width=0|w,this.height=0|h,null===this.fbo&&this._init(),this._allocate())},bindColor:function(location,unit){var gl=this.gl;gl.activeTexture(gl.TEXTURE0+unit),gl.bindTexture(gl.TEXTURE_2D,this.color.id),gl.uniform1i(location,unit)},bind:function(){var gl=this.gl;gl.bindFramebuffer(gl.FRAMEBUFFER,this.fbo),gl.viewport(0,0,this.width,this.height)},clear:function(){var gl=this.gl,bits=gl.COLOR_BUFFER_BIT|this.attachment.clearBits();gl.clear(bits)},isValid:function(){var gl=this.gl;return gl.checkFramebufferStatus(gl.FRAMEBUFFER)===gl.FRAMEBUFFER_COMPLETE},getActualType:function(){return this.color.type},dispose:function(){this.gl.deleteFramebuffer(this.fbo),this.color.dispose(),this.attachment.dispose(),this.valid=!1,this.fbo=null,this.gl=null},_init:function(){var gl=this.gl;this.fbo=gl.createFramebuffer(),gl.bindFramebuffer(gl.FRAMEBUFFER,this.fbo),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,this.color.id,0),this.attachment._init()},_allocate:function(){var gl=this.gl;this.attachment._allocate(),gl.bindFramebuffer(gl.FRAMEBUFFER,this.fbo);var tIndex=0,nextFmt=this.types[tIndex];do{this.color.fromData(this.width,this.height,null,nextFmt),gl.getError()}while(!(this.valid=this.isValid())&&(nextFmt=this.types[++tIndex]));gl.bindFramebuffer(gl.FRAMEBUFFER,null)}},DepthStencilAttachment.prototype={_init:function(){var gl=this.fbo.gl,attType=3&this.flags,depth=null;0!==attType&&(depth=gl.createRenderbuffer(),gl.bindRenderbuffer(gl.RENDERBUFFER,depth),gl.framebufferRenderbuffer(gl.FRAMEBUFFER,getAttachmentType(gl,attType),gl.RENDERBUFFER,depth)),this.buffer=depth},_allocate:function(){var gl=this.fbo.gl,attType=3&this.flags;0!==attType&&(gl.bindRenderbuffer(gl.RENDERBUFFER,this.buffer),gl.renderbufferStorage(gl.RENDERBUFFER,getAttachmentFormat(gl,attType),this.fbo.width,this.fbo.height),gl.bindRenderbuffer(gl.RENDERBUFFER,null))},dispose:function(){this.buffer&&this.fbo.gl.deleteRenderbuffer(this.buffer),this.buffer=null},clearBits:function(){return(1&this.flags?256:0)|(2&this.flags?1024:0)}};var DEFAULT_OPTS={};module.exports=Fbo},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0;var _defineProperties=__webpack_require__(105),_defineProperties2=_interopRequireDefault(_defineProperties),_freeze=__webpack_require__(108),_freeze2=_interopRequireDefault(_freeze);exports.default=function(strings,raw){return(0,_freeze2.default)((0,_defineProperties2.default)(strings,{raw:{value:(0,_freeze2.default)(raw)}}))}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(106),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(107);var $Object=__webpack_require__(0).Object;module.exports=function(T,D){return $Object.defineProperties(T,D)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.S+$export.F*!__webpack_require__(6),"Object",{defineProperties:__webpack_require__(47)})},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(109),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(110),module.exports=__webpack_require__(0).Object.freeze},function(module,exports,__webpack_require__){var isObject=__webpack_require__(5),meta=__webpack_require__(58).onFreeze;__webpack_require__(30)("freeze",function($freeze){return function(it){return $freeze&&isObject(it)?$freeze(meta(it)):it}})},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _assign=__webpack_require__(59),_assign2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_assign);exports.default=_assign2.default||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}},function(module,exports,__webpack_require__){__webpack_require__(113),module.exports=__webpack_require__(0).Object.assign},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.S+$export.F,"Object",{assign:__webpack_require__(114)})},function(module,exports,__webpack_require__){"use strict";var getKeys=__webpack_require__(12),gOPS=__webpack_require__(35),pIE=__webpack_require__(24),toObject=__webpack_require__(17),IObject=__webpack_require__(40),$assign=Object.assign;module.exports=!$assign||__webpack_require__(11)(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)isEnum.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:$assign},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(116),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(117),module.exports=__webpack_require__(0).Object.getPrototypeOf},function(module,exports,__webpack_require__){var toObject=__webpack_require__(17),$getPrototypeOf=__webpack_require__(49);__webpack_require__(30)("getPrototypeOf",function(){return function(it){return $getPrototypeOf(toObject(it))}})},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof2=__webpack_require__(60),_typeof3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_typeof2);exports.default=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==(void 0===call?"undefined":(0,_typeof3.default)(call))&&"function"!=typeof call?self:call}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(120),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(44),__webpack_require__(50),module.exports=__webpack_require__(36).f("iterator")},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(122),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(123),__webpack_require__(43),__webpack_require__(127),__webpack_require__(128),module.exports=__webpack_require__(0).Symbol},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(1),has=__webpack_require__(8),DESCRIPTORS=__webpack_require__(6),$export=__webpack_require__(3),redefine=__webpack_require__(46),META=__webpack_require__(58).KEY,$fails=__webpack_require__(11),shared=__webpack_require__(28),setToStringTag=__webpack_require__(21),uid=__webpack_require__(18),wks=__webpack_require__(2),wksExt=__webpack_require__(36),wksDefine=__webpack_require__(37),enumKeys=__webpack_require__(124),isArray=__webpack_require__(125),anObject=__webpack_require__(4),isObject=__webpack_require__(5),toIObject=__webpack_require__(10),toPrimitive=__webpack_require__(32),createDesc=__webpack_require__(20),_create=__webpack_require__(33),gOPNExt=__webpack_require__(126),$GOPD=__webpack_require__(62),$DP=__webpack_require__(7),$keys=__webpack_require__(12),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object.prototype,USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol.prototype);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$create=function(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},$propertyIsEnumerable=function(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)},redefine($Symbol.prototype,"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,__webpack_require__(61).f=gOPNExt.f=$getOwnPropertyNames,__webpack_require__(24).f=$propertyIsEnumerable,__webpack_require__(35).f=$getOwnPropertySymbols,DESCRIPTORS&&!__webpack_require__(14)&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function(it){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);if($replacer=replacer=args[1],(isObject(replacer)||void 0!==it)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}),$Symbol.prototype[TO_PRIMITIVE]||__webpack_require__(9)($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(12),gOPS=__webpack_require__(35),pIE=__webpack_require__(24);module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},function(module,exports,__webpack_require__){var cof=__webpack_require__(13);module.exports=Array.isArray||function(arg){return"Array"==cof(arg)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(10),gOPN=__webpack_require__(61).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}};module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?getWindowNames(it):gOPN(toIObject(it))}},function(module,exports,__webpack_require__){__webpack_require__(37)("asyncIterator")},function(module,exports,__webpack_require__){__webpack_require__(37)("observable")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0;var _setPrototypeOf=__webpack_require__(130),_setPrototypeOf2=_interopRequireDefault(_setPrototypeOf),_create=__webpack_require__(134),_create2=_interopRequireDefault(_create),_typeof2=__webpack_require__(60),_typeof3=_interopRequireDefault(_typeof2);exports.default=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+(void 0===superClass?"undefined":(0,_typeof3.default)(superClass)));subClass.prototype=(0,_create2.default)(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(_setPrototypeOf2.default?(0,_setPrototypeOf2.default)(subClass,superClass):subClass.__proto__=superClass)}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(131),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(132),module.exports=__webpack_require__(0).Object.setPrototypeOf},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.S,"Object",{setPrototypeOf:__webpack_require__(133).set})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(5),anObject=__webpack_require__(4),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{set=__webpack_require__(15)(Function.call,__webpack_require__(62).f(Object.prototype,"__proto__").set,2),set(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(135),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(136);var $Object=__webpack_require__(0).Object;module.exports=function(P,D){return $Object.create(P,D)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.S,"Object",{create:__webpack_require__(33)})},function(module,exports,__webpack_require__){function clamp(num,min,max){return Math.min(Math.max(min,num),max)}function hexDouble(num){var str=num.toString(16).toUpperCase();return str.length<2?"0"+str:str}var colorNames=__webpack_require__(138),swizzle=__webpack_require__(139),reverseNames={};for(var name in colorNames)colorNames.hasOwnProperty(name)&&(reverseNames[colorNames[name]]=name);var cs=module.exports={to:{}};cs.get=function(string){var val,model,prefix=string.substring(0,3).toLowerCase();switch(prefix){case"hsl":val=cs.get.hsl(string),model="hsl";break;case"hwb":val=cs.get.hwb(string),model="hwb";break;default:val=cs.get.rgb(string),model="rgb"}return val?{model:model,value:val}:null},cs.get.rgb=function(string){if(!string)return null;var match,i,hexAlpha,abbr=/^#([a-f0-9]{3,4})$/i,hex=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,rgba=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,per=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,keyword=/(\D+)/,rgb=[0,0,0,1];if(match=string.match(hex)){for(hexAlpha=match[2],match=match[1],i=0;i<3;i++){var i2=2*i;rgb[i]=parseInt(match.slice(i2,i2+2),16)}hexAlpha&&(rgb[3]=Math.round(parseInt(hexAlpha,16)/255*100)/100)}else if(match=string.match(abbr)){for(match=match[1],hexAlpha=match[3],i=0;i<3;i++)rgb[i]=parseInt(match[i]+match[i],16);hexAlpha&&(rgb[3]=Math.round(parseInt(hexAlpha+hexAlpha,16)/255*100)/100)}else if(match=string.match(rgba)){for(i=0;i<3;i++)rgb[i]=parseInt(match[i+1],0);match[4]&&(rgb[3]=parseFloat(match[4]))}else{if(!(match=string.match(per)))return(match=string.match(keyword))?"transparent"===match[1]?[0,0,0,0]:(rgb=colorNames[match[1]])?(rgb[3]=1,rgb):null:null;for(i=0;i<3;i++)rgb[i]=Math.round(2.55*parseFloat(match[i+1]));match[4]&&(rgb[3]=parseFloat(match[4]))}for(i=0;i<3;i++)rgb[i]=clamp(rgb[i],0,255);return rgb[3]=clamp(rgb[3],0,1),rgb},cs.get.hsl=function(string){if(!string)return null;var hsl=/^hsla?\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,match=string.match(hsl);if(match){var alpha=parseFloat(match[4]);return[(parseFloat(match[1])%360+360)%360,clamp(parseFloat(match[2]),0,100),clamp(parseFloat(match[3]),0,100),clamp(isNaN(alpha)?1:alpha,0,1)]}return null},cs.get.hwb=function(string){if(!string)return null;var hwb=/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,match=string.match(hwb);if(match){var alpha=parseFloat(match[4]);return[(parseFloat(match[1])%360+360)%360,clamp(parseFloat(match[2]),0,100),clamp(parseFloat(match[3]),0,100),clamp(isNaN(alpha)?1:alpha,0,1)]}return null},cs.to.hex=function(){var rgba=swizzle(arguments);return"#"+hexDouble(rgba[0])+hexDouble(rgba[1])+hexDouble(rgba[2])+(rgba[3]<1?hexDouble(Math.round(255*rgba[3])):"")},cs.to.rgb=function(){var rgba=swizzle(arguments);return rgba.length<4||1===rgba[3]?"rgb("+Math.round(rgba[0])+", "+Math.round(rgba[1])+", "+Math.round(rgba[2])+")":"rgba("+Math.round(rgba[0])+", "+Math.round(rgba[1])+", "+Math.round(rgba[2])+", "+rgba[3]+")"},cs.to.rgb.percent=function(){var rgba=swizzle(arguments),r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return rgba.length<4||1===rgba[3]?"rgb("+r+"%, "+g+"%, "+b+"%)":"rgba("+r+"%, "+g+"%, "+b+"%, "+rgba[3]+")"},cs.to.hsl=function(){var hsla=swizzle(arguments);return hsla.length<4||1===hsla[3]?"hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)":"hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "+hsla[3]+")"},cs.to.hwb=function(){var hwba=swizzle(arguments),a="";return hwba.length>=4&&1!==hwba[3]&&(a=", "+hwba[3]),"hwb("+hwba[0]+", "+hwba[1]+"%, "+hwba[2]+"%"+a+")"},cs.to.keyword=function(rgb){return reverseNames[rgb.slice(0,3)]}},function(module,exports,__webpack_require__){"use strict";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(module,exports,__webpack_require__){"use strict";var isArrayish=__webpack_require__(140),concat=Array.prototype.concat,slice=Array.prototype.slice,swizzle=module.exports=function(args){for(var results=[],i=0,len=args.length;i<len;i++){var arg=args[i];isArrayish(arg)?results=concat.call(results,slice.call(arg)):results.push(arg)}return results};swizzle.wrap=function(fn){return function(){return fn(swizzle(arguments))}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(obj){return!(!obj||"string"==typeof obj)&&(obj instanceof Array||Array.isArray(obj)||obj.length>=0&&(obj.splice instanceof Function||Object.getOwnPropertyDescriptor(obj,obj.length-1)&&"String"!==obj.constructor.name))}},function(module,__webpack_exports__,__webpack_require__){"use strict";function colorToString(color,forceCSSHex){var colorFormat=color.__state.conversionName.toString(),r=Math.round(color.r),g=Math.round(color.g),b=Math.round(color.b),a=color.a,h=Math.round(color.h),s=color.s.toFixed(1),v=color.v.toFixed(1);if(forceCSSHex||"THREE_CHAR_HEX"===colorFormat||"SIX_CHAR_HEX"===colorFormat){for(var str=color.hex.toString(16);str.length<6;)str="0"+str;return"#"+str}return"CSS_RGB"===colorFormat?"rgb("+r+","+g+","+b+")":"CSS_RGBA"===colorFormat?"rgba("+r+","+g+","+b+","+a+")":"HEX"===colorFormat?"0x"+color.hex.toString(16):"RGB_ARRAY"===colorFormat?"["+r+","+g+","+b+"]":"RGBA_ARRAY"===colorFormat?"["+r+","+g+","+b+","+a+"]":"RGB_OBJ"===colorFormat?"{r:"+r+",g:"+g+",b:"+b+"}":"RGBA_OBJ"===colorFormat?"{r:"+r+",g:"+g+",b:"+b+",a:"+a+"}":"HSV_OBJ"===colorFormat?"{h:"+h+",s:"+s+",v:"+v+"}":"HSVA_OBJ"===colorFormat?"{h:"+h+",s:"+s+",v:"+v+",a:"+a+"}":"unknown format"}function defineRGBComponent(target,component,componentHexIndex){Object.defineProperty(target,component,{get:function(){return"RGB"===this.__state.space?this.__state[component]:(Color.recalculateRGB(this,component,componentHexIndex),this.__state[component])},set:function(v){"RGB"!==this.__state.space&&(Color.recalculateRGB(this,component,componentHexIndex),this.__state.space="RGB"),this.__state[component]=v}})}function defineHSVComponent(target,component){Object.defineProperty(target,component,{get:function(){return"HSV"===this.__state.space?this.__state[component]:(Color.recalculateHSV(this),this.__state[component])},set:function(v){"HSV"!==this.__state.space&&(Color.recalculateHSV(this),this.__state.space="HSV"),this.__state[component]=v}})}function cssValueToPixels(val){if("0"===val||Common.isUndefined(val))return 0;var match=val.match(CSS_VALUE_PIXELS);return Common.isNull(match)?0:parseFloat(match[1])}function numDecimals(x){var _x=x.toString();return _x.indexOf(".")>-1?_x.length-_x.indexOf(".")-1:0}function roundToDecimal(value,decimals){var tenTo=Math.pow(10,decimals);return Math.round(value*tenTo)/tenTo}function map(v,i1,i2,o1,o2){return o1+(v-i1)/(i2-i1)*(o2-o1)}function linearGradient(elem,x,a,b){elem.style.background="",Common.each(vendors,function(vendor){elem.style.cssText+="background: "+vendor+"linear-gradient("+x+", "+a+" 0%, "+b+" 100%); "})}function hueGradient(elem){elem.style.background="",elem.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",elem.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",elem.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",elem.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",elem.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}function requestAnimationFrame(callback){setTimeout(callback,1e3/60)}function addRow(gui,newDom,liBefore){var li=document.createElement("li");return newDom&&li.appendChild(newDom),liBefore?gui.__ul.insertBefore(li,liBefore):gui.__ul.appendChild(li),gui.onResize(),li}function removeListeners(gui){dom.unbind(window,"resize",gui.__resizeHandler),gui.saveToLocalStorageIfPossible&&dom.unbind(window,"unload",gui.saveToLocalStorageIfPossible)}function markPresetModified(gui,modified){var opt=gui.__preset_select[gui.__preset_select.selectedIndex];opt.innerHTML=modified?opt.value+"*":opt.value}function augmentController(gui,li,controller){if(controller.__li=li,controller.__gui=gui,Common.extend(controller,{options:function(_options){if(arguments.length>1){var nextSibling=controller.__li.nextElementSibling;return controller.remove(),_add(gui,controller.object,controller.property,{before:nextSibling,factoryArgs:[Common.toArray(arguments)]})}if(Common.isArray(_options)||Common.isObject(_options)){var _nextSibling=controller.__li.nextElementSibling;return controller.remove(),_add(gui,controller.object,controller.property,{before:_nextSibling,factoryArgs:[_options]})}},name:function(_name){return controller.__li.firstElementChild.firstElementChild.innerHTML=_name,controller},listen:function(){return controller.__gui.listen(controller),controller},remove:function(){return controller.__gui.remove(controller),controller}}),controller instanceof NumberControllerSlider){var box=new NumberControllerBox(controller.object,controller.property,{min:controller.__min,max:controller.__max,step:controller.__step});Common.each(["updateDisplay","onChange","onFinishChange","step"],function(method){var pc=controller[method],pb=box[method];controller[method]=box[method]=function(){var args=Array.prototype.slice.call(arguments);return pb.apply(box,args),pc.apply(controller,args)}}),dom.addClass(li,"has-slider"),controller.domElement.insertBefore(box.domElement,controller.domElement.firstElementChild)}else if(controller instanceof NumberControllerBox){var r=function(returned){if(Common.isNumber(controller.__min)&&Common.isNumber(controller.__max)){var oldName=controller.__li.firstElementChild.firstElementChild.innerHTML,wasListening=controller.__gui.__listening.indexOf(controller)>-1;controller.remove();var newController=_add(gui,controller.object,controller.property,{before:controller.__li.nextElementSibling,factoryArgs:[controller.__min,controller.__max,controller.__step]});return newController.name(oldName),wasListening&&newController.listen(),newController}return returned};controller.min=Common.compose(r,controller.min),controller.max=Common.compose(r,controller.max)}else controller instanceof BooleanController?(dom.bind(li,"click",function(){dom.fakeEvent(controller.__checkbox,"click")}),dom.bind(controller.__checkbox,"click",function(e){e.stopPropagation()})):controller instanceof FunctionController?(dom.bind(li,"click",function(){dom.fakeEvent(controller.__button,"click")}),dom.bind(li,"mouseover",function(){dom.addClass(controller.__button,"hover")}),dom.bind(li,"mouseout",function(){dom.removeClass(controller.__button,"hover")})):controller instanceof ColorController&&(dom.addClass(li,"color"),controller.updateDisplay=Common.compose(function(val){return li.style.borderLeftColor=controller.__color.toString(),val},controller.updateDisplay),controller.updateDisplay());controller.setValue=Common.compose(function(val){return gui.getRoot().__preset_select&&controller.isModified()&&markPresetModified(gui.getRoot(),!0),val},controller.setValue)}function recallSavedValue(gui,controller){var root=gui.getRoot(),matchedIndex=root.__rememberedObjects.indexOf(controller.object);if(-1!==matchedIndex){var controllerMap=root.__rememberedObjectIndecesToControllers[matchedIndex];if(void 0===controllerMap&&(controllerMap={},root.__rememberedObjectIndecesToControllers[matchedIndex]=controllerMap),controllerMap[controller.property]=controller,root.load&&root.load.remembered){var presetMap=root.load.remembered,preset=void 0;if(presetMap[gui.preset])preset=presetMap[gui.preset];else{if(!presetMap[DEFAULT_DEFAULT_PRESET_NAME])return;preset=presetMap[DEFAULT_DEFAULT_PRESET_NAME]}if(preset[matchedIndex]&&void 0!==preset[matchedIndex][controller.property]){var value=preset[matchedIndex][controller.property];controller.initialValue=value,controller.setValue(value)}}}}function _add(gui,object,property,params){if(void 0===object[property])throw new Error('Object "'+object+'" has no property "'+property+'"');var controller=void 0;if(params.color)controller=new ColorController(object,property);else{var factoryArgs=[object,property].concat(params.factoryArgs);controller=ControllerFactory.apply(gui,factoryArgs)}params.before instanceof Controller&&(params.before=params.before.__li),recallSavedValue(gui,controller),dom.addClass(controller.domElement,"c");var name=document.createElement("span");dom.addClass(name,"property-name"),name.innerHTML=controller.property;var container=document.createElement("div");container.appendChild(name),container.appendChild(controller.domElement);var li=addRow(gui,container,params.before);return dom.addClass(li,GUI.CLASS_CONTROLLER_ROW),controller instanceof ColorController?dom.addClass(li,"color"):dom.addClass(li,_typeof(controller.getValue())),augmentController(gui,li,controller),gui.__controllers.push(controller),controller}function getLocalStorageHash(gui,key){return document.location.href+"."+key}function addPresetOption(gui,name,setSelected){var opt=document.createElement("option");opt.innerHTML=name,opt.value=name,gui.__preset_select.appendChild(opt),setSelected&&(gui.__preset_select.selectedIndex=gui.__preset_select.length-1)}function showHideExplain(gui,explain){explain.style.display=gui.useLocalStorage?"block":"none"}function addSaveMenu(gui){var div=gui.__save_row=document.createElement("li");dom.addClass(gui.domElement,"has-save"),gui.__ul.insertBefore(div,gui.__ul.firstChild),dom.addClass(div,"save-row");var gears=document.createElement("span");gears.innerHTML="&nbsp;",dom.addClass(gears,"button gears");var button=document.createElement("span");button.innerHTML="Save",dom.addClass(button,"button"),dom.addClass(button,"save");var button2=document.createElement("span");button2.innerHTML="New",dom.addClass(button2,"button"),dom.addClass(button2,"save-as");var button3=document.createElement("span");button3.innerHTML="Revert",dom.addClass(button3,"button"),dom.addClass(button3,"revert");var select=gui.__preset_select=document.createElement("select");if(gui.load&&gui.load.remembered?Common.each(gui.load.remembered,function(value,key){addPresetOption(gui,key,key===gui.preset)}):addPresetOption(gui,DEFAULT_DEFAULT_PRESET_NAME,!1),dom.bind(select,"change",function(){for(var index=0;index<gui.__preset_select.length;index++)gui.__preset_select[index].innerHTML=gui.__preset_select[index].value;gui.preset=this.value}),div.appendChild(select),div.appendChild(gears),div.appendChild(button),div.appendChild(button2),div.appendChild(button3),SUPPORTS_LOCAL_STORAGE){var explain=document.getElementById("dg-local-explain"),localStorageCheckBox=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(getLocalStorageHash(gui,"isLocal"))&&localStorageCheckBox.setAttribute("checked","checked"),showHideExplain(gui,explain),dom.bind(localStorageCheckBox,"change",function(){gui.useLocalStorage=!gui.useLocalStorage,showHideExplain(gui,explain)})}var newConstructorTextArea=document.getElementById("dg-new-constructor");dom.bind(newConstructorTextArea,"keydown",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||SAVE_DIALOGUE.hide()}),dom.bind(gears,"click",function(){newConstructorTextArea.innerHTML=JSON.stringify(gui.getSaveObject(),void 0,2),SAVE_DIALOGUE.show(),newConstructorTextArea.focus(),newConstructorTextArea.select()}),dom.bind(button,"click",function(){gui.save()}),dom.bind(button2,"click",function(){var presetName=prompt("Enter a new preset name.");presetName&&gui.saveAs(presetName)}),dom.bind(button3,"click",function(){gui.revert()})}function addResizeHandle(gui){function drag(e){return e.preventDefault(),gui.width+=pmouseX-e.clientX,gui.onResize(),pmouseX=e.clientX,!1}function dragStop(){dom.removeClass(gui.__closeButton,GUI.CLASS_DRAG),dom.unbind(window,"mousemove",drag),dom.unbind(window,"mouseup",dragStop)}function dragStart(e){return e.preventDefault(),pmouseX=e.clientX,dom.addClass(gui.__closeButton,GUI.CLASS_DRAG),dom.bind(window,"mousemove",drag),dom.bind(window,"mouseup",dragStop),!1}var pmouseX=void 0;gui.__resize_handle=document.createElement("div"),Common.extend(gui.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),dom.bind(gui.__resize_handle,"mousedown",dragStart),dom.bind(gui.__closeButton,"mousedown",dragStart),gui.domElement.insertBefore(gui.__resize_handle,gui.domElement.firstElementChild)}function setWidth(gui,w){gui.domElement.style.width=w+"px",gui.__save_row&&gui.autoPlace&&(gui.__save_row.style.width=w+"px"),gui.__closeButton&&(gui.__closeButton.style.width=w+"px")}function getCurrentPreset(gui,useInitialValues){var toReturn={};return Common.each(gui.__rememberedObjects,function(val,index){var savedValues={},controllerMap=gui.__rememberedObjectIndecesToControllers[index];Common.each(controllerMap,function(controller,property){savedValues[property]=useInitialValues?controller.initialValue:controller.getValue()}),toReturn[index]=savedValues}),toReturn}function setPresetSelectIndex(gui){for(var index=0;index<gui.__preset_select.length;index++)gui.__preset_select[index].value===gui.preset&&(gui.__preset_select.selectedIndex=index)}function updateDisplays(controllerArray){0!==controllerArray.length&&requestAnimationFrame$1.call(window,function(){updateDisplays(controllerArray)}),Common.each(controllerArray,function(c){c.updateDisplay()})}__webpack_require__.d(__webpack_exports__,"a",function(){return GUI$1});var ARR_EACH=Array.prototype.forEach,ARR_SLICE=Array.prototype.slice,Common={BREAK:{},extend:function(target){return this.each(ARR_SLICE.call(arguments,1),function(obj){(this.isObject(obj)?Object.keys(obj):[]).forEach(function(key){this.isUndefined(obj[key])||(target[key]=obj[key])}.bind(this))},this),target},defaults:function(target){return this.each(ARR_SLICE.call(arguments,1),function(obj){(this.isObject(obj)?Object.keys(obj):[]).forEach(function(key){this.isUndefined(target[key])&&(target[key]=obj[key])}.bind(this))},this),target},compose:function(){var toCall=ARR_SLICE.call(arguments);return function(){for(var args=ARR_SLICE.call(arguments),i=toCall.length-1;i>=0;i--)args=[toCall[i].apply(this,args)];return args[0]}},each:function(obj,itr,scope){if(obj)if(ARR_EACH&&obj.forEach&&obj.forEach===ARR_EACH)obj.forEach(itr,scope);else if(obj.length===obj.length+0){var key=void 0,l=void 0;for(key=0,l=obj.length;key<l;key++)if(key in obj&&itr.call(scope,obj[key],key)===this.BREAK)return}else for(var _key in obj)if(itr.call(scope,obj[_key],_key)===this.BREAK)return},defer:function(fnc){setTimeout(fnc,0)},debounce:function(func,threshold,callImmediately){var timeout=void 0;return function(){function delayed(){timeout=null,callImmediately||func.apply(obj,args)}var obj=this,args=arguments,callNow=callImmediately||!timeout;clearTimeout(timeout),timeout=setTimeout(delayed,threshold),callNow&&func.apply(obj,args)}},toArray:function(obj){return obj.toArray?obj.toArray():ARR_SLICE.call(obj)},isUndefined:function(obj){return void 0===obj},isNull:function(obj){return null===obj},isNaN:function(_isNaN){function isNaN(_x){return _isNaN.apply(this,arguments)}return isNaN.toString=function(){return _isNaN.toString()},isNaN}(function(obj){return isNaN(obj)}),isArray:Array.isArray||function(obj){return obj.constructor===Array},isObject:function(obj){return obj===Object(obj)},isNumber:function(obj){return obj===obj+0},isString:function(obj){return obj===obj+""},isBoolean:function(obj){return!1===obj||!0===obj},isFunction:function(obj){return"[object Function]"===Object.prototype.toString.call(obj)}},INTERPRETATIONS=[{litmus:Common.isString,conversions:{THREE_CHAR_HEX:{read:function(original){var test=original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==test&&{space:"HEX",hex:parseInt("0x"+test[1].toString()+test[1].toString()+test[2].toString()+test[2].toString()+test[3].toString()+test[3].toString(),0)}},write:colorToString},SIX_CHAR_HEX:{read:function(original){var test=original.match(/^#([A-F0-9]{6})$/i);return null!==test&&{space:"HEX",hex:parseInt("0x"+test[1].toString(),0)}},write:colorToString},CSS_RGB:{read:function(original){var test=original.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==test&&{space:"RGB",r:parseFloat(test[1]),g:parseFloat(test[2]),b:parseFloat(test[3])}},write:colorToString},CSS_RGBA:{read:function(original){var test=original.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==test&&{space:"RGB",r:parseFloat(test[1]),g:parseFloat(test[2]),b:parseFloat(test[3]),a:parseFloat(test[4])}},write:colorToString}}},{litmus:Common.isNumber,conversions:{HEX:{read:function(original){return{space:"HEX",hex:original,conversionName:"HEX"}},write:function(color){return color.hex}}}},{litmus:Common.isArray,conversions:{RGB_ARRAY:{read:function(original){return 3===original.length&&{space:"RGB",r:original[0],g:original[1],b:original[2]}},write:function(color){return[color.r,color.g,color.b]}},RGBA_ARRAY:{read:function(original){return 4===original.length&&{space:"RGB",r:original[0],g:original[1],b:original[2],a:original[3]}},write:function(color){return[color.r,color.g,color.b,color.a]}}}},{litmus:Common.isObject,conversions:{RGBA_OBJ:{read:function(original){return!!(Common.isNumber(original.r)&&Common.isNumber(original.g)&&Common.isNumber(original.b)&&Common.isNumber(original.a))&&{space:"RGB",r:original.r,g:original.g,b:original.b,a:original.a}},write:function(color){return{r:color.r,g:color.g,b:color.b,a:color.a}}},RGB_OBJ:{read:function(original){return!!(Common.isNumber(original.r)&&Common.isNumber(original.g)&&Common.isNumber(original.b))&&{space:"RGB",r:original.r,g:original.g,b:original.b}},write:function(color){return{r:color.r,g:color.g,b:color.b}}},HSVA_OBJ:{read:function(original){return!!(Common.isNumber(original.h)&&Common.isNumber(original.s)&&Common.isNumber(original.v)&&Common.isNumber(original.a))&&{space:"HSV",h:original.h,s:original.s,v:original.v,a:original.a}},write:function(color){return{h:color.h,s:color.s,v:color.v,a:color.a}}},HSV_OBJ:{read:function(original){return!!(Common.isNumber(original.h)&&Common.isNumber(original.s)&&Common.isNumber(original.v))&&{space:"HSV",h:original.h,s:original.s,v:original.v}},write:function(color){return{h:color.h,s:color.s,v:color.v}}}}}],result=void 0,toReturn=void 0,interpret=function(){toReturn=!1;var original=arguments.length>1?Common.toArray(arguments):arguments[0];return Common.each(INTERPRETATIONS,function(family){if(family.litmus(original))return Common.each(family.conversions,function(conversion,conversionName){if(result=conversion.read(original),!1===toReturn&&!1!==result)return toReturn=result,result.conversionName=conversionName,result.conversion=conversion,Common.BREAK}),Common.BREAK}),toReturn},tmpComponent=void 0,ColorMath={hsv_to_rgb:function(h,s,v){var hi=Math.floor(h/60)%6,f=h/60-Math.floor(h/60),p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),c=[[v,t,p],[q,v,p],[p,v,t],[p,q,v],[t,p,v],[v,p,q]][hi];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(r,g,b){var min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min,h=void 0,s=void 0;return 0===max?{h:NaN,s:0,v:0}:(s=delta/max,h=r===max?(g-b)/delta:g===max?2+(b-r)/delta:4+(r-g)/delta,h/=6,h<0&&(h+=1),{h:360*h,s:s,v:max/255})},rgb_to_hex:function(r,g,b){var hex=this.hex_with_component(0,2,r);return hex=this.hex_with_component(hex,1,g),hex=this.hex_with_component(hex,0,b)},component_from_hex:function(hex,componentIndex){return hex>>8*componentIndex&255},hex_with_component:function(hex,componentIndex,value){return value<<(tmpComponent=8*componentIndex)|hex&~(255<<tmpComponent)}},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)},possibleConstructorReturn=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call},Color=function(){function Color(){if(classCallCheck(this,Color),this.__state=interpret.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return createClass(Color,[{key:"toString",value:function(){return colorToString(this)}},{key:"toHexString",value:function(){return colorToString(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),Color}();Color.recalculateRGB=function(color,component,componentHexIndex){if("HEX"===color.__state.space)color.__state[component]=ColorMath.component_from_hex(color.__state.hex,componentHexIndex);else{if("HSV"!==color.__state.space)throw new Error("Corrupted color state");Common.extend(color.__state,ColorMath.hsv_to_rgb(color.__state.h,color.__state.s,color.__state.v))}},Color.recalculateHSV=function(color){var result=ColorMath.rgb_to_hsv(color.r,color.g,color.b);Common.extend(color.__state,{s:result.s,v:result.v}),Common.isNaN(result.h)?Common.isUndefined(color.__state.h)&&(color.__state.h=0):color.__state.h=result.h},Color.COMPONENTS=["r","g","b","h","s","v","hex","a"],defineRGBComponent(Color.prototype,"r",2),defineRGBComponent(Color.prototype,"g",1),defineRGBComponent(Color.prototype,"b",0),defineHSVComponent(Color.prototype,"h"),defineHSVComponent(Color.prototype,"s"),defineHSVComponent(Color.prototype,"v"),Object.defineProperty(Color.prototype,"a",{get:function(){return this.__state.a},set:function(v){this.__state.a=v}}),Object.defineProperty(Color.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=ColorMath.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(v){this.__state.space="HEX",this.__state.hex=v}});var Controller=function(){function Controller(object,property){classCallCheck(this,Controller),this.initialValue=object[property],this.domElement=document.createElement("div"),this.object=object,this.property=property,this.__onChange=void 0,this.__onFinishChange=void 0}return createClass(Controller,[{key:"onChange",value:function(fnc){return this.__onChange=fnc,this}},{key:"onFinishChange",value:function(fnc){return this.__onFinishChange=fnc,this}},{key:"setValue",value:function(newValue){return this.object[this.property]=newValue,this.__onChange&&this.__onChange.call(this,newValue),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),Controller}(),EVENT_MAP={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},EVENT_MAP_INV={};Common.each(EVENT_MAP,function(v,k){Common.each(v,function(e){EVENT_MAP_INV[e]=k})});var CSS_VALUE_PIXELS=/(\d+(\.\d+)?)px/,dom={makeSelectable:function(elem,selectable){void 0!==elem&&void 0!==elem.style&&(elem.onselectstart=selectable?function(){return!1}:function(){},elem.style.MozUserSelect=selectable?"auto":"none",elem.style.KhtmlUserSelect=selectable?"auto":"none",elem.unselectable=selectable?"on":"off")},makeFullscreen:function(elem,hor,vert){var vertical=vert,horizontal=hor;Common.isUndefined(horizontal)&&(horizontal=!0),Common.isUndefined(vertical)&&(vertical=!0),elem.style.position="absolute",horizontal&&(elem.style.left=0,elem.style.right=0),vertical&&(elem.style.top=0,elem.style.bottom=0)},fakeEvent:function(elem,eventType,pars,aux){var params=pars||{},className=EVENT_MAP_INV[eventType];if(!className)throw new Error("Event type "+eventType+" not supported.");var evt=document.createEvent(className);switch(className){case"MouseEvents":var clientX=params.x||params.clientX||0,clientY=params.y||params.clientY||0;evt.initMouseEvent(eventType,params.bubbles||!1,params.cancelable||!0,window,params.clickCount||1,0,0,clientX,clientY,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var init=evt.initKeyboardEvent||evt.initKeyEvent;Common.defaults(params,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),init(eventType,params.bubbles||!1,params.cancelable,window,params.ctrlKey,params.altKey,params.shiftKey,params.metaKey,params.keyCode,params.charCode);break;default:evt.initEvent(eventType,params.bubbles||!1,params.cancelable||!0)}Common.defaults(evt,aux),elem.dispatchEvent(evt)},bind:function(elem,event,func,newBool){var bool=newBool||!1;return elem.addEventListener?elem.addEventListener(event,func,bool):elem.attachEvent&&elem.attachEvent("on"+event,func),dom},unbind:function(elem,event,func,newBool){var bool=newBool||!1;return elem.removeEventListener?elem.removeEventListener(event,func,bool):elem.detachEvent&&elem.detachEvent("on"+event,func),dom},addClass:function(elem,className){if(void 0===elem.className)elem.className=className;else if(elem.className!==className){var classes=elem.className.split(/ +/);-1===classes.indexOf(className)&&(classes.push(className),elem.className=classes.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return dom},removeClass:function(elem,className){if(className)if(elem.className===className)elem.removeAttribute("class");else{var classes=elem.className.split(/ +/),index=classes.indexOf(className);-1!==index&&(classes.splice(index,1),elem.className=classes.join(" "))}else elem.className=void 0;return dom},hasClass:function(elem,className){return new RegExp("(?:^|\\s+)"+className+"(?:\\s+|$)").test(elem.className)||!1},getWidth:function(elem){var style=getComputedStyle(elem);return cssValueToPixels(style["border-left-width"])+cssValueToPixels(style["border-right-width"])+cssValueToPixels(style["padding-left"])+cssValueToPixels(style["padding-right"])+cssValueToPixels(style.width)},getHeight:function(elem){var style=getComputedStyle(elem);return cssValueToPixels(style["border-top-width"])+cssValueToPixels(style["border-bottom-width"])+cssValueToPixels(style["padding-top"])+cssValueToPixels(style["padding-bottom"])+cssValueToPixels(style.height)},getOffset:function(el){var elem=el,offset={left:0,top:0};if(elem.offsetParent)do{offset.left+=elem.offsetLeft,offset.top+=elem.offsetTop,elem=elem.offsetParent}while(elem);return offset},isActive:function(elem){return elem===document.activeElement&&(elem.type||elem.href)}},BooleanController=function(_Controller){function BooleanController(object,property){function onChange(){_this.setValue(!_this.__prev)}classCallCheck(this,BooleanController);var _this2=possibleConstructorReturn(this,(BooleanController.__proto__||Object.getPrototypeOf(BooleanController)).call(this,object,property)),_this=_this2;return _this2.__prev=_this2.getValue(),_this2.__checkbox=document.createElement("input"),_this2.__checkbox.setAttribute("type","checkbox"),dom.bind(_this2.__checkbox,"change",onChange,!1),_this2.domElement.appendChild(_this2.__checkbox),_this2.updateDisplay(),_this2}return inherits(BooleanController,_Controller),createClass(BooleanController,[{key:"setValue",value:function(v){var toReturn=get(BooleanController.prototype.__proto__||Object.getPrototypeOf(BooleanController.prototype),"setValue",this).call(this,v);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),toReturn}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),get(BooleanController.prototype.__proto__||Object.getPrototypeOf(BooleanController.prototype),"updateDisplay",this).call(this)}}]),BooleanController}(Controller),OptionController=function(_Controller){function OptionController(object,property,opts){classCallCheck(this,OptionController);var _this2=possibleConstructorReturn(this,(OptionController.__proto__||Object.getPrototypeOf(OptionController)).call(this,object,property)),options=opts,_this=_this2;if(_this2.__select=document.createElement("select"),Common.isArray(options)){var map={};Common.each(options,function(element){map[element]=element}),options=map}return Common.each(options,function(value,key){var opt=document.createElement("option");opt.innerHTML=key,opt.setAttribute("value",value),_this.__select.appendChild(opt)}),_this2.updateDisplay(),dom.bind(_this2.__select,"change",function(){var desiredValue=this.options[this.selectedIndex].value;_this.setValue(desiredValue)}),_this2.domElement.appendChild(_this2.__select),_this2}return inherits(OptionController,_Controller),createClass(OptionController,[{key:"setValue",value:function(v){var toReturn=get(OptionController.prototype.__proto__||Object.getPrototypeOf(OptionController.prototype),"setValue",this).call(this,v);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),toReturn}},{key:"updateDisplay",value:function(){return dom.isActive(this.__select)?this:(this.__select.value=this.getValue(),get(OptionController.prototype.__proto__||Object.getPrototypeOf(OptionController.prototype),"updateDisplay",this).call(this))}}]),OptionController}(Controller),StringController=function(_Controller){function StringController(object,property){function onChange(){_this.setValue(_this.__input.value)}function onBlur(){_this.__onFinishChange&&_this.__onFinishChange.call(_this,_this.getValue())}classCallCheck(this,StringController);var _this2=possibleConstructorReturn(this,(StringController.__proto__||Object.getPrototypeOf(StringController)).call(this,object,property)),_this=_this2;return _this2.__input=document.createElement("input"),_this2.__input.setAttribute("type","text"),dom.bind(_this2.__input,"keyup",onChange),dom.bind(_this2.__input,"change",onChange),dom.bind(_this2.__input,"blur",onBlur),dom.bind(_this2.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),_this2.updateDisplay(),_this2.domElement.appendChild(_this2.__input),_this2}return inherits(StringController,_Controller),createClass(StringController,[{key:"updateDisplay",value:function(){return dom.isActive(this.__input)||(this.__input.value=this.getValue()),get(StringController.prototype.__proto__||Object.getPrototypeOf(StringController.prototype),"updateDisplay",this).call(this)}}]),StringController}(Controller),NumberController=function(_Controller){function NumberController(object,property,params){classCallCheck(this,NumberController);var _this=possibleConstructorReturn(this,(NumberController.__proto__||Object.getPrototypeOf(NumberController)).call(this,object,property)),_params=params||{};return _this.__min=_params.min,_this.__max=_params.max,_this.__step=_params.step,Common.isUndefined(_this.__step)?0===_this.initialValue?_this.__impliedStep=1:_this.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(_this.initialValue))/Math.LN10))/10:_this.__impliedStep=_this.__step,_this.__precision=numDecimals(_this.__impliedStep),_this}return inherits(NumberController,_Controller),createClass(NumberController,[{key:"setValue",value:function(v){var _v=v;return void 0!==this.__min&&_v<this.__min?_v=this.__min:void 0!==this.__max&&_v>this.__max&&(_v=this.__max),void 0!==this.__step&&_v%this.__step!=0&&(_v=Math.round(_v/this.__step)*this.__step),get(NumberController.prototype.__proto__||Object.getPrototypeOf(NumberController.prototype),"setValue",this).call(this,_v)}},{key:"min",value:function(minValue){return this.__min=minValue,this}},{key:"max",value:function(maxValue){return this.__max=maxValue,this}},{key:"step",value:function(stepValue){return this.__step=stepValue,this.__impliedStep=stepValue,this.__precision=numDecimals(stepValue),this}}]),NumberController}(Controller),NumberControllerBox=function(_NumberController){function NumberControllerBox(object,property,params){function onChange(){var attempted=parseFloat(_this.__input.value);Common.isNaN(attempted)||_this.setValue(attempted)}function onFinish(){_this.__onFinishChange&&_this.__onFinishChange.call(_this,_this.getValue())}function onBlur(){onFinish()}function onMouseDrag(e){var diff=prevY-e.clientY;_this.setValue(_this.getValue()+diff*_this.__impliedStep),prevY=e.clientY}function onMouseUp(){dom.unbind(window,"mousemove",onMouseDrag),dom.unbind(window,"mouseup",onMouseUp),onFinish()}function onMouseDown(e){dom.bind(window,"mousemove",onMouseDrag),dom.bind(window,"mouseup",onMouseUp),prevY=e.clientY}classCallCheck(this,NumberControllerBox);var _this2=possibleConstructorReturn(this,(NumberControllerBox.__proto__||Object.getPrototypeOf(NumberControllerBox)).call(this,object,property,params));_this2.__truncationSuspended=!1;var _this=_this2,prevY=void 0;return _this2.__input=document.createElement("input"),_this2.__input.setAttribute("type","text"),dom.bind(_this2.__input,"change",onChange),dom.bind(_this2.__input,"blur",onBlur),dom.bind(_this2.__input,"mousedown",onMouseDown),dom.bind(_this2.__input,"keydown",function(e){13===e.keyCode&&(_this.__truncationSuspended=!0,this.blur(),_this.__truncationSuspended=!1,onFinish())}),_this2.updateDisplay(),_this2.domElement.appendChild(_this2.__input),_this2}return inherits(NumberControllerBox,_NumberController),createClass(NumberControllerBox,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():roundToDecimal(this.getValue(),this.__precision),get(NumberControllerBox.prototype.__proto__||Object.getPrototypeOf(NumberControllerBox.prototype),"updateDisplay",this).call(this)}}]),NumberControllerBox}(NumberController),NumberControllerSlider=function(_NumberController){function NumberControllerSlider(object,property,min,max,step){function onMouseDown(e){document.activeElement.blur(),dom.bind(window,"mousemove",onMouseDrag),dom.bind(window,"mouseup",onMouseUp),onMouseDrag(e)}function onMouseDrag(e){e.preventDefault();var bgRect=_this.__background.getBoundingClientRect();return _this.setValue(map(e.clientX,bgRect.left,bgRect.right,_this.__min,_this.__max)),!1}function onMouseUp(){dom.unbind(window,"mousemove",onMouseDrag),dom.unbind(window,"mouseup",onMouseUp),_this.__onFinishChange&&_this.__onFinishChange.call(_this,_this.getValue())}function onTouchStart(e){1===e.touches.length&&(dom.bind(window,"touchmove",onTouchMove),dom.bind(window,"touchend",onTouchEnd),onTouchMove(e))}function onTouchMove(e){var clientX=e.touches[0].clientX,bgRect=_this.__background.getBoundingClientRect();_this.setValue(map(clientX,bgRect.left,bgRect.right,_this.__min,_this.__max))}function onTouchEnd(){dom.unbind(window,"touchmove",onTouchMove),dom.unbind(window,"touchend",onTouchEnd),_this.__onFinishChange&&_this.__onFinishChange.call(_this,_this.getValue())}classCallCheck(this,NumberControllerSlider);var _this2=possibleConstructorReturn(this,(NumberControllerSlider.__proto__||Object.getPrototypeOf(NumberControllerSlider)).call(this,object,property,{min:min,max:max,step:step})),_this=_this2;return _this2.__background=document.createElement("div"),_this2.__foreground=document.createElement("div"),dom.bind(_this2.__background,"mousedown",onMouseDown),dom.bind(_this2.__background,"touchstart",onTouchStart),dom.addClass(_this2.__background,"slider"),dom.addClass(_this2.__foreground,"slider-fg"),_this2.updateDisplay(),_this2.__background.appendChild(_this2.__foreground),_this2.domElement.appendChild(_this2.__background),_this2}return inherits(NumberControllerSlider,_NumberController),createClass(NumberControllerSlider,[{key:"updateDisplay",value:function(){var pct=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*pct+"%",get(NumberControllerSlider.prototype.__proto__||Object.getPrototypeOf(NumberControllerSlider.prototype),"updateDisplay",this).call(this)}}]),NumberControllerSlider}(NumberController),FunctionController=function(_Controller){function FunctionController(object,property,text){classCallCheck(this,FunctionController);var _this2=possibleConstructorReturn(this,(FunctionController.__proto__||Object.getPrototypeOf(FunctionController)).call(this,object,property)),_this=_this2;return _this2.__button=document.createElement("div"),_this2.__button.innerHTML=void 0===text?"Fire":text,dom.bind(_this2.__button,"click",function(e){return e.preventDefault(),_this.fire(),!1}),dom.addClass(_this2.__button,"button"),_this2.domElement.appendChild(_this2.__button),_this2}return inherits(FunctionController,_Controller),createClass(FunctionController,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),FunctionController}(Controller),ColorController=function(_Controller){function ColorController(object,property){function fieldDown(e){setSV(e),dom.bind(window,"mousemove",setSV),dom.bind(window,"touchmove",setSV),dom.bind(window,"mouseup",fieldUpSV),dom.bind(window,"touchend",fieldUpSV)}function fieldDownH(e){setH(e),dom.bind(window,"mousemove",setH),dom.bind(window,"touchmove",setH),dom.bind(window,"mouseup",fieldUpH),dom.bind(window,"touchend",fieldUpH)}function fieldUpSV(){dom.unbind(window,"mousemove",setSV),dom.unbind(window,"touchmove",setSV),dom.unbind(window,"mouseup",fieldUpSV),dom.unbind(window,"touchend",fieldUpSV),onFinish()}function fieldUpH(){dom.unbind(window,"mousemove",setH),dom.unbind(window,"touchmove",setH),dom.unbind(window,"mouseup",fieldUpH),dom.unbind(window,"touchend",fieldUpH),onFinish()}function onBlur(){var i=interpret(this.value);!1!==i?(_this.__color.__state=i,_this.setValue(_this.__color.toOriginal())):this.value=_this.__color.toString()}function onFinish(){_this.__onFinishChange&&_this.__onFinishChange.call(_this,_this.__color.toOriginal())}function setSV(e){-1===e.type.indexOf("touch")&&e.preventDefault();var fieldRect=_this.__saturation_field.getBoundingClientRect(),_ref=e.touches&&e.touches[0]||e,clientX=_ref.clientX,clientY=_ref.clientY,s=(clientX-fieldRect.left)/(fieldRect.right-fieldRect.left),v=1-(clientY-fieldRect.top)/(fieldRect.bottom-fieldRect.top);return v>1?v=1:v<0&&(v=0),s>1?s=1:s<0&&(s=0),_this.__color.v=v,_this.__color.s=s,_this.setValue(_this.__color.toOriginal()),!1}function setH(e){-1===e.type.indexOf("touch")&&e.preventDefault();var fieldRect=_this.__hue_field.getBoundingClientRect(),_ref2=e.touches&&e.touches[0]||e,clientY=_ref2.clientY,h=1-(clientY-fieldRect.top)/(fieldRect.bottom-fieldRect.top);return h>1?h=1:h<0&&(h=0),_this.__color.h=360*h,_this.setValue(_this.__color.toOriginal()),!1}classCallCheck(this,ColorController);var _this2=possibleConstructorReturn(this,(ColorController.__proto__||Object.getPrototypeOf(ColorController)).call(this,object,property));_this2.__color=new Color(_this2.getValue()),_this2.__temp=new Color(0);var _this=_this2;_this2.domElement=document.createElement("div"),dom.makeSelectable(_this2.domElement,!1),_this2.__selector=document.createElement("div"),_this2.__selector.className="selector",_this2.__saturation_field=document.createElement("div"),_this2.__saturation_field.className="saturation-field",_this2.__field_knob=document.createElement("div"),_this2.__field_knob.className="field-knob",_this2.__field_knob_border="2px solid ",_this2.__hue_knob=document.createElement("div"),_this2.__hue_knob.className="hue-knob",_this2.__hue_field=document.createElement("div"),_this2.__hue_field.className="hue-field",_this2.__input=document.createElement("input"),_this2.__input.type="text",_this2.__input_textShadow="0 1px 1px ",dom.bind(_this2.__input,"keydown",function(e){13===e.keyCode&&onBlur.call(this)}),dom.bind(_this2.__input,"blur",onBlur),dom.bind(_this2.__selector,"mousedown",function(){dom.addClass(this,"drag").bind(window,"mouseup",function(){dom.removeClass(_this.__selector,"drag")})}),dom.bind(_this2.__selector,"touchstart",function(){dom.addClass(this,"drag").bind(window,"touchend",function(){dom.removeClass(_this.__selector,"drag")})});var valueField=document.createElement("div");return Common.extend(_this2.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),Common.extend(_this2.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:_this2.__field_knob_border+(_this2.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),Common.extend(_this2.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),Common.extend(_this2.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),Common.extend(valueField.style,{width:"100%",height:"100%",background:"none"}),linearGradient(valueField,"top","rgba(0,0,0,0)","#000"),Common.extend(_this2.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),hueGradient(_this2.__hue_field),Common.extend(_this2.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:_this2.__input_textShadow+"rgba(0,0,0,0.7)"}),dom.bind(_this2.__saturation_field,"mousedown",fieldDown),dom.bind(_this2.__saturation_field,"touchstart",fieldDown),dom.bind(_this2.__field_knob,"mousedown",fieldDown),dom.bind(_this2.__field_knob,"touchstart",fieldDown),dom.bind(_this2.__hue_field,"mousedown",fieldDownH),dom.bind(_this2.__hue_field,"touchstart",fieldDownH),_this2.__saturation_field.appendChild(valueField),_this2.__selector.appendChild(_this2.__field_knob),_this2.__selector.appendChild(_this2.__saturation_field),_this2.__selector.appendChild(_this2.__hue_field),_this2.__hue_field.appendChild(_this2.__hue_knob),_this2.domElement.appendChild(_this2.__input),_this2.domElement.appendChild(_this2.__selector),_this2.updateDisplay(),_this2}return inherits(ColorController,_Controller),createClass(ColorController,[{key:"updateDisplay",value:function(){var i=interpret(this.getValue());if(!1!==i){var mismatch=!1;Common.each(Color.COMPONENTS,function(component){if(!Common.isUndefined(i[component])&&!Common.isUndefined(this.__color.__state[component])&&i[component]!==this.__color.__state[component])return mismatch=!0,{}},this),mismatch&&Common.extend(this.__color.__state,i)}Common.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var flip=this.__color.v<.5||this.__color.s>.5?255:0,_flip=255-flip;Common.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+flip+","+flip+","+flip+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,linearGradient(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),Common.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+flip+","+flip+","+flip+")",textShadow:this.__input_textShadow+"rgba("+_flip+","+_flip+","+_flip+",.7)"})}}]),ColorController}(Controller),vendors=["-moz-","-o-","-webkit-","-ms-",""],css={load:function(url,indoc){var doc=indoc||document,link=doc.createElement("link");link.type="text/css",link.rel="stylesheet",link.href=url,doc.getElementsByTagName("head")[0].appendChild(link)},inject:function(cssContent,indoc){var doc=indoc||document,injected=document.createElement("style");injected.type="text/css",injected.innerHTML=cssContent;var head=doc.getElementsByTagName("head")[0];try{head.appendChild(injected)}catch(e){}}},ControllerFactory=function(object,property){var initialValue=object[property];return Common.isArray(arguments[2])||Common.isObject(arguments[2])?new OptionController(object,property,arguments[2]):Common.isNumber(initialValue)?Common.isNumber(arguments[2])&&Common.isNumber(arguments[3])?Common.isNumber(arguments[4])?new NumberControllerSlider(object,property,arguments[2],arguments[3],arguments[4]):new NumberControllerSlider(object,property,arguments[2],arguments[3]):Common.isNumber(arguments[4])?new NumberControllerBox(object,property,{min:arguments[2],max:arguments[3],step:arguments[4]}):new NumberControllerBox(object,property,{min:arguments[2],max:arguments[3]}):Common.isString(initialValue)?new StringController(object,property):Common.isFunction(initialValue)?new FunctionController(object,property,""):Common.isBoolean(initialValue)?new BooleanController(object,property):null},requestAnimationFrame$1=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||requestAnimationFrame,CenteredDiv=function(){function CenteredDiv(){classCallCheck(this,CenteredDiv),this.backgroundElement=document.createElement("div"),Common.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),dom.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),Common.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var _this=this;dom.bind(this.backgroundElement,"click",function(){_this.hide()})}return createClass(CenteredDiv,[{key:"show",value:function(){var _this=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),Common.defer(function(){_this.backgroundElement.style.opacity=1,_this.domElement.style.opacity=1,_this.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var _this=this,hide=function hide(){_this.domElement.style.display="none",_this.backgroundElement.style.display="none",dom.unbind(_this.domElement,"webkitTransitionEnd",hide),dom.unbind(_this.domElement,"transitionend",hide),dom.unbind(_this.domElement,"oTransitionEnd",hide)};dom.bind(this.domElement,"webkitTransitionEnd",hide),dom.bind(this.domElement,"transitionend",hide),dom.bind(this.domElement,"oTransitionEnd",hide),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-dom.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-dom.getHeight(this.domElement)/2+"px"}}]),CenteredDiv}(),styleSheet=function(css){if(css&&"undefined"!=typeof window){var style=document.createElement("style");return style.setAttribute("type","text/css"),style.innerHTML=css,document.head.appendChild(style),css}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");css.inject(styleSheet);var DEFAULT_DEFAULT_PRESET_NAME="Default",SUPPORTS_LOCAL_STORAGE=function(){try{return!!window.localStorage}catch(e){return!1}}(),SAVE_DIALOGUE=void 0,autoPlaceVirgin=!0,autoPlaceContainer=void 0,hide=!1,hideableGuis=[],GUI=function GUI(pars){var _this=this,params=pars||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),dom.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],params=Common.defaults(params,{closeOnTop:!1,autoPlace:!0,width:GUI.DEFAULT_WIDTH}),params=Common.defaults(params,{resizable:params.autoPlace,hideable:params.autoPlace}),Common.isUndefined(params.load)?params.load={preset:DEFAULT_DEFAULT_PRESET_NAME}:params.preset&&(params.load.preset=params.preset),Common.isUndefined(params.parent)&&params.hideable&&hideableGuis.push(this),params.resizable=Common.isUndefined(params.parent)&&params.resizable,params.autoPlace&&Common.isUndefined(params.scrollable)&&(params.scrollable=!0);var useLocalStorage=SUPPORTS_LOCAL_STORAGE&&"true"===localStorage.getItem(getLocalStorageHash(this,"isLocal")),saveToLocalStorage=void 0;if(Object.defineProperties(this,{parent:{get:function(){return params.parent}},scrollable:{get:function(){return params.scrollable}},autoPlace:{get:function(){return params.autoPlace}},closeOnTop:{get:function(){return params.closeOnTop}},preset:{get:function(){return _this.parent?_this.getRoot().preset:params.load.preset},set:function(v){_this.parent?_this.getRoot().preset=v:params.load.preset=v,setPresetSelectIndex(this),_this.revert()}},width:{get:function(){return params.width},set:function(v){params.width=v,setWidth(_this,v)}},name:{get:function(){return params.name},set:function(v){params.name=v,titleRowName&&(titleRowName.innerHTML=params.name)}},closed:{get:function(){return params.closed},set:function(v){params.closed=v,params.closed?dom.addClass(_this.__ul,GUI.CLASS_CLOSED):dom.removeClass(_this.__ul,GUI.CLASS_CLOSED),this.onResize(),_this.__closeButton&&(_this.__closeButton.innerHTML=v?GUI.TEXT_OPEN:GUI.TEXT_CLOSED)}},load:{get:function(){return params.load}},useLocalStorage:{get:function(){return useLocalStorage},set:function(bool){SUPPORTS_LOCAL_STORAGE&&(useLocalStorage=bool,bool?dom.bind(window,"unload",saveToLocalStorage):dom.unbind(window,"unload",saveToLocalStorage),localStorage.setItem(getLocalStorageHash(_this,"isLocal"),bool))}}}),Common.isUndefined(params.parent)){if(params.closed=!1,dom.addClass(this.domElement,GUI.CLASS_MAIN),dom.makeSelectable(this.domElement,!1),SUPPORTS_LOCAL_STORAGE&&useLocalStorage){_this.useLocalStorage=!0;var savedGui=localStorage.getItem(getLocalStorageHash(this,"gui"));savedGui&&(params.load=JSON.parse(savedGui))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=GUI.TEXT_CLOSED,dom.addClass(this.__closeButton,GUI.CLASS_CLOSE_BUTTON),params.closeOnTop?(dom.addClass(this.__closeButton,GUI.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(dom.addClass(this.__closeButton,GUI.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),dom.bind(this.__closeButton,"click",function(){_this.closed=!_this.closed})}else{void 0===params.closed&&(params.closed=!0);var _titleRowName=document.createTextNode(params.name);dom.addClass(_titleRowName,"controller-name");var titleRow=addRow(_this,_titleRowName),onClickTitle=function(e){return e.preventDefault(),_this.closed=!_this.closed,!1};dom.addClass(this.__ul,GUI.CLASS_CLOSED),dom.addClass(titleRow,"title"),dom.bind(titleRow,"click",onClickTitle),params.closed||(this.closed=!1)}params.autoPlace&&(Common.isUndefined(params.parent)&&(autoPlaceVirgin&&(autoPlaceContainer=document.createElement("div"),dom.addClass(autoPlaceContainer,"dg"),dom.addClass(autoPlaceContainer,GUI.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(autoPlaceContainer),autoPlaceVirgin=!1),autoPlaceContainer.appendChild(this.domElement),dom.addClass(this.domElement,GUI.CLASS_AUTO_PLACE)),this.parent||setWidth(_this,params.width)),this.__resizeHandler=function(){_this.onResizeDebounced()},dom.bind(window,"resize",this.__resizeHandler),dom.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),dom.bind(this.__ul,"transitionend",this.__resizeHandler),dom.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),params.resizable&&addResizeHandle(this),saveToLocalStorage=function(){SUPPORTS_LOCAL_STORAGE&&"true"===localStorage.getItem(getLocalStorageHash(_this,"isLocal"))&&localStorage.setItem(getLocalStorageHash(_this,"gui"),JSON.stringify(_this.getSaveObject()))},this.saveToLocalStorageIfPossible=saveToLocalStorage,params.parent||function(){var root=_this.getRoot();root.width+=1,Common.defer(function(){root.width-=1})}()};GUI.toggleHide=function(){hide=!hide,Common.each(hideableGuis,function(gui){gui.domElement.style.display=hide?"none":""})},GUI.CLASS_AUTO_PLACE="a",GUI.CLASS_AUTO_PLACE_CONTAINER="ac",GUI.CLASS_MAIN="main",GUI.CLASS_CONTROLLER_ROW="cr",GUI.CLASS_TOO_TALL="taller-than-window",GUI.CLASS_CLOSED="closed",GUI.CLASS_CLOSE_BUTTON="close-button",GUI.CLASS_CLOSE_TOP="close-top",GUI.CLASS_CLOSE_BOTTOM="close-bottom",GUI.CLASS_DRAG="drag",GUI.DEFAULT_WIDTH=245,GUI.TEXT_CLOSED="Close Controls",GUI.TEXT_OPEN="Open Controls",GUI._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||GUI.toggleHide()},dom.bind(window,"keydown",GUI._keydownHandler,!1),Common.extend(GUI.prototype,{add:function(object,property){return _add(this,object,property,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(object,property){return _add(this,object,property,{color:!0})},remove:function(controller){this.__ul.removeChild(controller.__li),this.__controllers.splice(this.__controllers.indexOf(controller),1);var _this=this;Common.defer(function(){_this.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&autoPlaceContainer.removeChild(this.domElement);var _this=this;Common.each(this.__folders,function(subfolder){_this.removeFolder(subfolder)}),dom.unbind(window,"keydown",GUI._keydownHandler,!1),removeListeners(this)},addFolder:function(name){if(void 0!==this.__folders[name])throw new Error('You already have a folder in this GUI by the name "'+name+'"');var newGuiParams={name:name,parent:this};newGuiParams.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[name]&&(newGuiParams.closed=this.load.folders[name].closed,newGuiParams.load=this.load.folders[name]);var gui=new GUI(newGuiParams);this.__folders[name]=gui;var li=addRow(this,gui.domElement);return dom.addClass(li,"folder"),gui},removeFolder:function(folder){this.__ul.removeChild(folder.domElement.parentElement),delete this.__folders[folder.name],this.load&&this.load.folders&&this.load.folders[folder.name]&&delete this.load.folders[folder.name],removeListeners(folder);var _this=this;Common.each(folder.__folders,function(subfolder){folder.removeFolder(subfolder)}),Common.defer(function(){_this.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var root=this.getRoot();if(root.scrollable){var top=dom.getOffset(root.__ul).top,h=0;Common.each(root.__ul.childNodes,function(node){root.autoPlace&&node===root.__save_row||(h+=dom.getHeight(node))}),window.innerHeight-top-20<h?(dom.addClass(root.domElement,GUI.CLASS_TOO_TALL),root.__ul.style.height=window.innerHeight-top-20+"px"):(dom.removeClass(root.domElement,GUI.CLASS_TOO_TALL),root.__ul.style.height="auto")}root.__resize_handle&&Common.defer(function(){root.__resize_handle.style.height=root.__ul.offsetHeight+"px"}),root.__closeButton&&(root.__closeButton.style.width=root.width+"px")},onResizeDebounced:Common.debounce(function(){this.onResize()},50),remember:function(){if(Common.isUndefined(SAVE_DIALOGUE)&&(SAVE_DIALOGUE=new CenteredDiv,SAVE_DIALOGUE.domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var _this=this;Common.each(Array.prototype.slice.call(arguments),function(object){0===_this.__rememberedObjects.length&&addSaveMenu(_this),-1===_this.__rememberedObjects.indexOf(object)&&_this.__rememberedObjects.push(object)}),this.autoPlace&&setWidth(this,this.width)},getRoot:function(){for(var gui=this;gui.parent;)gui=gui.parent;return gui},getSaveObject:function(){var toReturn=this.load;return toReturn.closed=this.closed,this.__rememberedObjects.length>0&&(toReturn.preset=this.preset,toReturn.remembered||(toReturn.remembered={}),toReturn.remembered[this.preset]=getCurrentPreset(this)),toReturn.folders={},Common.each(this.__folders,function(element,key){toReturn.folders[key]=element.getSaveObject()}),toReturn},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=getCurrentPreset(this),markPresetModified(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(presetName){this.load.remembered||(this.load.remembered={},this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME]=getCurrentPreset(this,!0)),this.load.remembered[presetName]=getCurrentPreset(this),this.preset=presetName,addPresetOption(this,presetName,!0),this.saveToLocalStorageIfPossible()},revert:function(gui){Common.each(this.__controllers,function(controller){this.getRoot().load.remembered?recallSavedValue(gui||this.getRoot(),controller):controller.setValue(controller.initialValue),controller.__onFinishChange&&controller.__onFinishChange.call(controller,controller.getValue())},this),Common.each(this.__folders,function(folder){folder.revert(folder)}),gui||markPresetModified(this.getRoot(),!1)},listen:function(controller){var init=0===this.__listening.length;this.__listening.push(controller),init&&updateDisplays(this.__listening)},updateDisplay:function(){Common.each(this.__controllers,function(controller){controller.updateDisplay()}),Common.each(this.__folders,function(folder){folder.updateDisplay()})}});var color={Color:Color,math:ColorMath,interpret:interpret},controllers={Controller:Controller,BooleanController:BooleanController,OptionController:OptionController,StringController:StringController,NumberController:NumberController,NumberControllerBox:NumberControllerBox,NumberControllerSlider:NumberControllerSlider,FunctionController:FunctionController,ColorController:ColorController},dom$1={dom:dom},gui={GUI:GUI},GUI$1=GUI},function(module,__webpack_exports__,__webpack_require__){"use strict";function ArrayBuffer(gl,data,usage){this.gl=gl,this.usage=usage||gl.STATIC_DRAW,this.buffer=gl.createBuffer(),this.attribs=[],this.stride=0,this.byteLength=0,this.length=0,data&&this.data(data)}function IndexBuffer(gl,type,data,usage){this.gl=gl,this.buffer=gl.createBuffer(),this.usage=usage||gl.STATIC_DRAW,this.type=0,this.typeSize=0,this.size=0,this.setType(type||gl.UNSIGNED_SHORT),data&&this.data(data)}__webpack_require__.d(__webpack_exports__,"a",function(){return ArrayBuffer});var BufferUtils={getComponentSize:function(type){switch(type){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5124:case 5125:case 5126:return 4;default:return 0}},Drawable:function(proto){proto.drawPoints=function(count,offset){this.draw(0,count,offset)},proto.drawLines=function(count,offset){this.draw(1,count,offset)},proto.drawLineLoop=function(count,offset){this.draw(2,count,offset)},proto.drawLineStrip=function(count,offset){this.draw(3,count,offset)},proto.drawTriangles=function(count,offset){this.draw(4,count,offset)},proto.drawTriangleStrip=function(count,offset){this.draw(5,count,offset)},proto.drawTriangleFan=function(count,offset){this.draw(6,count,offset)}}},TGT=34962;ArrayBuffer.prototype={bind:function(){this.gl.bindBuffer(TGT,this.buffer)},attrib:function(name,size,type,normalize){return this.attribs.push({name:name,type:0|type,size:0|size,normalize:!!normalize,offset:this.stride}),this.stride+=BufferUtils.getComponentSize(type)*size,this._computeLength(),this},data:function(array){var gl=this.gl;gl.bindBuffer(TGT,this.buffer),gl.bufferData(TGT,array,this.usage),gl.bindBuffer(TGT,null),this.byteLength=void 0===array.byteLength?array:array.byteLength,this._computeLength()},subData:function(array,offset){var gl=this.gl;gl.bindBuffer(TGT,this.buffer),gl.bufferSubData(TGT,offset,array),gl.bindBuffer(TGT,null)},attribPointer:function(program){var gl=this.gl;gl.bindBuffer(TGT,this.buffer);for(var i=0;i<this.attribs.length;i++){var attrib=this.attribs[i];if(void 0!==program[attrib.name]){var aLocation=program[attrib.name]();gl.enableVertexAttribArray(aLocation),gl.vertexAttribPointer(aLocation,attrib.size,attrib.type,attrib.normalize,this.stride,attrib.offset)}}},draw:function(mode,count,offset){count=void 0===count?this.length:count,this.gl.drawArrays(mode,offset,0|count)},dispose:function(){this.gl&&this.gl.deleteBuffer(this.buffer),this.buffer=null,this.gl=null},_computeLength:function(){this.stride>0&&(this.length=this.byteLength/this.stride)}},BufferUtils.Drawable(ArrayBuffer.prototype);IndexBuffer.prototype={bind:function(){this.gl.bindBuffer(34963,this.buffer)},setType:function(type){this.type=type,this.typeSize=BufferUtils.getComponentSize(type)},data:function(array){var gl=this.gl;gl.bindBuffer(34963,this.buffer),gl.bufferData(34963,array,this.usage),gl.bindBuffer(34963,null),this.size=void 0===array.byteLength?array:array.byteLength},subData:function(array,offset){var gl=this.gl;gl.bindBuffer(34963,this.buffer),gl.bufferSubData(34963,offset,array),gl.bindBuffer(34963,null)},dispose:function(){this.gl.deleteBuffer(this.buffer),this.buffer=null,this.gl=null},draw:function(mode,count,offset){count=void 0===count?this.size/this.typeSize:count,this.gl.drawElements(mode,count,this.type,0|offset)}},BufferUtils.Drawable(IndexBuffer.prototype)},function(module,exports){module.exports="precision highp float;\n#define GLSLIFY 1\nuniform sampler2D texture;\nvarying vec2 uv;\nvoid main(void) {\n  gl_FragColor = texture2D(texture,vec2(uv.x,uv.y));\n  // gl_FragColor = vec4(1.5,1.,.3,1.);\n}\n"},function(module,exports){module.exports="precision highp float;\n#define GLSLIFY 1\nuniform float lt;\nuniform float gt;\nuniform float clamp;\nuniform sampler2D texture;\nuniform vec2 iResolution;\nvarying vec2 uv;\n\nvec3 rgb2hsb( in vec3 c ){\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz),\n                 vec4(c.gb, K.xy),\n                 step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r),\n                 vec4(c.r, p.yzx),\n                 step(p.x, c.r));\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)),\n                d / (q.x + e),\n                q.x);\n}\n\nvoid main(void) {\n\tvec4 c = texture2D(texture, uv);\n\tvec3 t = rgb2hsb(c.rgb);\n    if (clamp < 0.5) {\n        if(t.r <lt||t.r>gt) {\n            gl_FragColor = c;\n        } else {\n            //apply B&W image.\n            float y = c.r;\n            y -= 0.0627;\n            y *= 1.164;\n            gl_FragColor = vec4(y, y, y, c.a);\n        }\n    } else {\n        if(t.r <=lt&&t.r>=gt) {\n            gl_FragColor = c;\n        } else {\n            //apply B&W image.\n            float y = c.r;\n            y -= 0.0627;\n            y *= 1.164;\n            gl_FragColor = vec4(y, y, y, c.a);\n        }\n    }\n}\n"},function(module,exports){module.exports="//http://www.geeks3d.com/20140523/glsl-shader-library-toonify-post-processing-filter/\nprecision highp float;\n#define GLSLIFY 1\nuniform sampler2D texture;\nuniform vec2 iResolution;\nuniform float HueLevels[6];\nuniform float SatLevels[7];\nuniform float ValLevels[4];\nuniform vec2 textureSize;\nvarying vec2 uv;\n#define HueLevCount 6\n#define SatLevCount 7\n#define ValLevCount 4\n\n\nvec3 RGBtoHSV( float r, float g, float b) {\n   float minv, maxv, delta;\n   vec3 res;\n\n   minv = min(min(r, g), b);\n   maxv = max(max(r, g), b);\n   res.z = maxv;            // v\n\n   delta = maxv - minv;\n\n   if( maxv != 0.0 )\n      res.y = delta / maxv;      // s\n   else {\n      // r = g = b = 0      // s = 0, v is undefined\n      res.y = 0.0;\n      res.x = -1.0;\n      return res;\n   }\n\n   if( r == maxv )\n      res.x = ( g - b ) / delta;      // between yellow & magenta\n   else if( g == maxv )\n      res.x = 2.0 + ( b - r ) / delta;   // between cyan & yellow\n   else\n      res.x = 4.0 + ( r - g ) / delta;   // between magenta & cyan\n\n   res.x = res.x * 60.0;            // degrees\n   if( res.x < 0.0 )\n      res.x = res.x + 360.0;\n\n   return res;\n}\n\nvec3 HSVtoRGB(float h, float s, float v ) {\n   int i;\n   float f, p, q, t;\n   vec3 res;\n\n   if( s == 0.0 ) {\n      // achromatic (grey)\n      res.x = v;\n      res.y = v;\n      res.z = v;\n      return res;\n   }\n\n   h /= 60.0;         // sector 0 to 5\n   i = int(floor( h ));\n   f = h - float(i);         // factorial part of h\n   p = v * ( 1.0 - s );\n   q = v * ( 1.0 - s * f );\n   t = v * ( 1.0 - s * ( 1.0 - f ) );\n\n    if(i== 0){\n        res.x = v;\n        res.y = t;\n        res.z = p;\n    }else if(i==1){\n    \tres.x = q;\n        res.y = v;\n        res.z = p;\n    }else if(i==2){\n    \tres.x = p;\n        res.y = v;\n        res.z = t;\n    }else if(i==3){\n        res.x = p;\n        res.y = q;\n        res.z = v;\n    }else if(i==4){\n        res.x = t;\n        res.y = p;\n        res.z = v;\n    }else if(i==5){\n        res.x = v;\n        res.y = p;\n        res.z = q;\n   }\n\n   return res;\n}\nvec3 hsb2rgb( in vec3 c ){\n    vec3 rgb = clamp(abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),\n                             6.0)-3.0)-1.0,\n                     0.0,\n                     1.0 );\n    rgb = rgb*rgb*(3.0-2.0*rgb);\n    return c.z * mix(vec3(1.0), rgb, c.y);\n}\nfloat nearestLevel0(float col) {\n\n   for (int i =0; i<HueLevCount-1; i++ ) {\n\n        if (col >= HueLevels[i] && col <= HueLevels[i+1]) {\n          return HueLevels[i+1];\n        }\n\n\n   }\n}\nfloat nearestLevel1(float col) {\n\n   for (int i =0; i<SatLevCount-1; i++ ) {\n\n        if (col >= SatLevels[i] && col <= SatLevels[i+1]) {\n          return SatLevels[i+1];\n        }\n\n   }\n}\nfloat nearestLevel2(float col) {\n   for (int i =0; i<ValLevCount-1; i++ ) {\n\n        if (col >= ValLevels[i] && col <= ValLevels[i+1]) {\n          return ValLevels[i+1];\n        }\n\n   }\n}\n// averaged pixel intensity from 3 color channels\nfloat avg_intensity(vec4 pix) {\n return (pix.r + pix.g + pix.b)/3.;\n}\n\nvec4 get_pixel(vec2 coords, float dx, float dy) {\n return texture2D(texture,coords + vec2(dx, dy));\n}\n\n// returns pixel color\nfloat IsEdge(vec2 coords){\n  float dxtex = 1.0 /float(textureSize.x) ;\n  float dytex = 1.0 /float(textureSize.y);\n  float pix[9];\n  int k = -1;\n  float delta;\n\n  // read neighboring pixel intensities\n  /*\n  for (int i=-1; i<2; i++) {\n   for(int j=-1; j<2; j++) {\n    k++;\n    pix[k] = avg_intensity(get_pixel(coords,float(i)*dxtex,float(j)*dytex));\n   }\n  }*/\n  pix[0] = avg_intensity(get_pixel(coords,float(-1)*dxtex,\n                                          float(-1)*dytex));\n  pix[1] = avg_intensity(get_pixel(coords,float(-1)*dxtex,\n                                          float(0)*dytex));\n  pix[2] = avg_intensity(get_pixel(coords,float(-1)*dxtex,\n                                          float(1)*dytex));\n\n  pix[3] = avg_intensity(get_pixel(coords,float(0)*dxtex,\n                                          float(-1)*dytex));\n  pix[4] = avg_intensity(get_pixel(coords,float(0)*dxtex,\n                                          float(0)*dytex));\n  pix[5] = avg_intensity(get_pixel(coords,float(0)*dxtex,\n                                          float(1)*dytex));\n\n  pix[6] = avg_intensity(get_pixel(coords,float(1)*dxtex,\n                                          float(-1)*dytex));\n  pix[7] = avg_intensity(get_pixel(coords,float(1)*dxtex,\n                                          float(0)*dytex));\n  pix[8] = avg_intensity(get_pixel(coords,float(1)*dxtex,\n                                          float(1)*dytex));\n  // average color differences around neighboring pixels\n  delta = (abs(pix[1]-pix[7])+\n          abs(pix[5]-pix[3]) +\n          abs(pix[0]-pix[8])+\n          abs(pix[2]-pix[6])\n           )/4.;\n\n  return clamp(5.5*delta,0.0,1.0);\n}\n\nvoid main(void)\n{\n    vec4 colorOrg = texture2D( texture, uv );\n    vec3 vHSV =  RGBtoHSV(colorOrg.r,colorOrg.g,colorOrg.b);\n    vHSV.x = nearestLevel0(vHSV.x);\n    vHSV.y = nearestLevel1(vHSV.y);\n    vHSV.z = nearestLevel2(vHSV.z);\n    float edg = IsEdge(uv);\n    vec3 vRGB = (edg >= 0.3)? vec3(0.0,0.0,0.0):HSVtoRGB(vHSV.x,vHSV.y,vHSV.z);\n    //gl_FragColor = vec4(vRGB.x,vRGB.y,vRGB.z,1.0);\n    gl_FragColor =vec4(vRGB.x,vRGB.y,vRGB.z,1.);\n\n}\n"},function(module,exports){module.exports="// created by florian berger (flockaroo) - 2016\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n// trying to resemle some hand drawing style\nprecision highp float;\n#define GLSLIFY 1\nuniform sampler2D iChannel1;\nuniform sampler2D iChannel0;\n// #define SHADERTOY\n// #ifdef SHADERTOY\n//  #define Res0 iChannelResolution[0].xy\n//  #define Res1 iChannelResolution[1].xy\n// #else\n//   #define Res0 textureSize(iChannel0,0)\n//   #define Res1 textureSize(iChannel1,0)\n//   #define iResolution Res0\n// #endif\n\n// #define Res  iResolution.xy\n\n// #define randSamp iChannel1\n// #define colorSamp iChannel0\n\nvec2 Res0 = textureSize(iChannel0,0)\n\nvec4 getRand(vec2 pos)\n{\n    return textureLod(iChannel1,pos/Res1/iResolution.y*1080., 0.0);\n}\n\nvec4 getCol(vec2 pos)\n{\n    // take aspect ratio into account\n    vec2 uv=((pos-Res.xy*.5)/Res.y*Res0.y)/Res0.xy+.5;\n    vec4 c1=texture(iChannel0,uv);\n    vec4 e=smoothstep(vec4(-0.05),vec4(-0.0),vec4(uv,vec2(1)-uv));\n    c1=mix(vec4(1,1,1,0),c1,e.x*e.y*e.z*e.w);\n    float d=clamp(dot(c1.xyz,vec3(-.5,1.,-.5)),0.0,1.0);\n    vec4 c2=vec4(.7);\n    return min(mix(c1,c2,1.8*d),.7);\n}\n\nvec4 getColHT(vec2 pos)\n{\n \treturn smoothstep(.95,1.05,getCol(pos)*.8+.2+getRand(pos*.7));\n}\n\nfloat getVal(vec2 pos)\n{\n    vec4 c=getCol(pos);\n \treturn pow(dot(c.xyz,vec3(.333)),1.)*1.;\n}\n\nvec2 getGrad(vec2 pos, float eps)\n{\n   \tvec2 d=vec2(eps,0);\n    return vec2(\n        getVal(pos+d.xy)-getVal(pos-d.xy),\n        getVal(pos+d.yx)-getVal(pos-d.yx)\n    )/eps/2.;\n}\n\n#define AngleNum 3\n\n#define SampNum 16\n#define PI2 6.28318530717959\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 pos = fragCoord+4.0*sin(iTime*1.*vec2(1,1.7))*iResolution.y/400.;\n    vec3 col = vec3(0);\n    vec3 col2 = vec3(0);\n    float sum=0.;\n    for(int i=0;i<AngleNum;i++)\n    {\n        float ang=PI2/float(AngleNum)*(float(i)+.8);\n        vec2 v=vec2(cos(ang),sin(ang));\n        for(int j=0;j<SampNum;j++)\n        {\n            vec2 dpos  = v.yx*vec2(1,-1)*float(j)*iResolution.y/400.;\n            vec2 dpos2 = v.xy*float(j*j)/float(SampNum)*.5*iResolution.y/400.;\n\t        vec2 g;\n            float fact;\n            float fact2;\n\n            for(float s=-1.;s<=1.;s+=2.)\n            {\n                vec2 pos2=pos+s*dpos+dpos2;\n                vec2 pos3=pos+(s*dpos+dpos2).yx*vec2(1,-1)*2.;\n            \tg=getGrad(pos2,.4);\n            \tfact=dot(g,v)-.5*abs(dot(g,v.yx*vec2(1,-1)))/**(1.-getVal(pos2))*/;\n            \tfact2=dot(normalize(g+vec2(.0001)),v.yx*vec2(1,-1));\n\n                fact=clamp(fact,0.,.05);\n                fact2=abs(fact2);\n\n                fact*=1.-float(j)/float(SampNum);\n            \tcol += fact;\n            \tcol2 += fact2*getColHT(pos3).xyz;\n            \tsum+=fact2;\n            }\n        }\n    }\n    col/=float(SampNum*AngleNum)*.75/sqrt(iResolution.y);\n    col2/=sum;\n    col.x*=(.6+.8*getRand(pos*.7).x);\n    col.x=1.-col.x;\n    col.x*=col.x*col.x;\n\n    vec2 s=sin(pos.xy*.1/sqrt(iResolution.y/400.));\n    vec3 karo=vec3(1);\n    karo-=.5*vec3(.25,.1,.1)*dot(exp(-s*s*80.),vec2(1));\n    float r=length(pos-iResolution.xy*.5)/iResolution.x;\n    float vign=1.-r*r*r;\n\tfragColor = vec4(vec3(col.x*col2*karo*vign),1);\n    //fragColor=getCol(fragCoord);\n}\n"},function(module,exports){module.exports="precision highp float;\n#define GLSLIFY 1\nuniform vec2 iResolution;\nuniform vec3 filterBg;\n\nuniform float filterRange;\n\nuniform sampler2D targetBg;\nuniform sampler2D texture;\n\n/*.05,.632,.148*/\nvec3 rgb2hsb( in vec3 c ){\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz),\n                 vec4(c.gb, K.xy),\n                 step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r),\n                 vec4(c.r, p.yzx),\n                 step(p.x, c.r));\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)),\n                d / (q.x + e),\n                q.x);\n}\n\nvoid main(void) {\n    vec2 uv = gl_FragCoord.xy/iResolution.xy;\n    uv.y = 1.-uv.y;\n    vec4 c = texture2D(texture, uv);\n    vec3 t = rgb2hsb(c.rgb);\n    vec2 pos = gl_FragCoord.xy+4.0*sin(1./2000.*1.*vec2(1,1.7))*iResolution.y/400.;\n    float r=length(pos-iResolution.xy*.5)/iResolution.x;\n    float vign=1.-r*r*r;\n    if(abs(t.r-rgb2hsb(filterBg).r)<filterRange) {\n        gl_FragColor = texture2D(targetBg,uv)*vign;\n\n\n    } else {\n        gl_FragColor = vec4(1,0,0,1.)*vign;\n        discard;\n\n    }\n\n\n}\n"},function(module,exports){module.exports="\nprecision highp float;\n#define GLSLIFY 1\nuniform float iGlobalTime;\nuniform sampler2D texture;\nvarying vec2 uv;\nconst float blurSize = 1.0/512.0;\nconst float intensity = 0.35;\nvoid main()\n{\n   vec4 sum = vec4(0);\n\n   int j;\n   int i;\n   //thank you! http://www.gamerendering.com/2008/10/11/gaussian-blur-filter-shader/ for the\n   //blur tutorial\n   // blur in y (vertical)\n   // take nine samples, with the distance blurSize between them\n   sum += texture2D(texture, vec2(uv.x - 4.0*blurSize, uv.y)) * 0.05;\n   sum += texture2D(texture, vec2(uv.x - 3.0*blurSize, uv.y)) * 0.09;\n   sum += texture2D(texture, vec2(uv.x - 2.0*blurSize, uv.y)) * 0.12;\n   sum += texture2D(texture, vec2(uv.x - blurSize, uv.y)) * 0.15;\n   sum += texture2D(texture, vec2(uv.x, uv.y)) * 0.16;\n   sum += texture2D(texture, vec2(uv.x + blurSize, uv.y)) * 0.15;\n   sum += texture2D(texture, vec2(uv.x + 2.0*blurSize, uv.y)) * 0.12;\n   sum += texture2D(texture, vec2(uv.x + 3.0*blurSize, uv.y)) * 0.09;\n   sum += texture2D(texture, vec2(uv.x + 4.0*blurSize, uv.y)) * 0.05;\n\n\t// blur in y (vertical)\n   // take nine samples, with the distance blurSize between them\n   sum += texture2D(texture, vec2(uv.x, uv.y - 4.0*blurSize)) * 0.05;\n   sum += texture2D(texture, vec2(uv.x, uv.y - 3.0*blurSize)) * 0.09;\n   sum += texture2D(texture, vec2(uv.x, uv.y - 2.0*blurSize)) * 0.12;\n   sum += texture2D(texture, vec2(uv.x, uv.y - blurSize)) * 0.15;\n   sum += texture2D(texture, vec2(uv.x, uv.y)) * 0.16;\n   sum += texture2D(texture, vec2(uv.x, uv.y + blurSize)) * 0.15;\n   sum += texture2D(texture, vec2(uv.x, uv.y + 2.0*blurSize)) * 0.12;\n   sum += texture2D(texture, vec2(uv.x, uv.y + 3.0*blurSize)) * 0.09;\n   sum += texture2D(texture, vec2(uv.x, uv.y + 4.0*blurSize)) * 0.05;\n\n   //increase blur with intensity!\n   //fragColor = sum*intensity + texture(texture, uv);\n   if(sin(iGlobalTime) > 0.0)\n      gl_FragColor = sum * sin(iGlobalTime)+ texture2D(texture, uv);\n\n   else\n\t   gl_FragColor =  sum * -  sin(iGlobalTime)+ texture2D(texture, uv);\n\n\n}\n"},function(module,exports){module.exports="precision highp float;\n#define GLSLIFY 1\nuniform sampler2D texture;\nuniform float c2X;\nuniform float c2Y;\nvarying vec2 uv;\n\nvoid main(void) {\n  float c2y = c2Y/430.;\n  float c2x = c2X/430.;\n\n  vec4 col1 = texture2D(texture,vec2(uv.x*1.+c2x,uv.y*1.-c2y));\n  if(length(col1.rgb - texture2D(texture,vec2(0.,0.)).rgb)<=.33){\n    discard;\n\n  }\n  gl_FragColor =vec4(col1);\n  // float fXIndex = uv.x * fWidth;\n  // float fYIndex = uv.y * fHeight;\n  // gl_FragColor =\n}\n"},function(module,exports){module.exports="precision highp float;\n#define GLSLIFY 1\nuniform sampler2D texture;\nuniform float c1X;\nuniform float c1Y;\nvarying vec2 uv;\n\nvoid main(void) {\n  float c1y = c1Y/430.;\n  float c1x = c1X/430.;\n\n  vec4 col1 = texture2D(texture,vec2(uv.x*1.+c1x,uv.y*1.-c1y));\n  if(length(col1.rgb - texture2D(texture,vec2(0.,0.)).rgb)<=.3){\n    col1=vec4(1.);\n    // discard;\n  }\n  gl_FragColor =vec4(col1);\n  // float fXIndex = uv.x * fWidth;\n  // float fYIndex = uv.y * fHeight;\n  // gl_FragColor =\n}\n"},function(module,exports){module.exports="precision highp float;\n#define GLSLIFY 1\nuniform vec2 px;\nuniform sampler2D texture;\nuniform float mx[9];\nuniform float my[9];\nvarying vec2 uv;\n\nvoid main(void) {\n  vec4 c11 = texture2D(texture, uv - px); // top left\n  vec4 c12 = texture2D(texture, vec2(uv.x, uv.y - px.y)); // top center\n  vec4 c13 = texture2D(texture, vec2(uv.x + px.x, uv.y - px.y)); // top right\n\n  vec4 c21 = texture2D(texture, vec2(uv.x - px.x, uv.y) ); // mid left\n  vec4 c22 = texture2D(texture, uv); // mid center\n  vec4 c23 = texture2D(texture, vec2(uv.x + px.x, uv.y) ); // mid right\n\n  vec4 c31 = texture2D(texture, vec2(uv.x - px.x, uv.y + px.y) ); // bottom left\n  vec4 c32 = texture2D(texture, vec2(uv.x, uv.y + px.y) ); // bottom center\n  vec4 c33 = texture2D(texture, uv + px ); // bottom right\n\n  vec4 sumx =\n    c11 * mx[0] + c12 * mx[1] + c22 * mx[2] +\n    c21 * mx[3] + c22 * mx[4] + c23 * mx[5] +\n    c31 * mx[6] + c32 * mx[7] + c33 * mx[8];\n  vec4 sumy =\n    c11 * my[0] + c12 * my[1] + c22 * my[2] +\n    c21 * my[3] + c22 * my[4] + c23 * my[5] +\n    c31 * my[6] + c32 * my[7] + c33 * my[8];\n  vec4 fTotalSum = sqrt(sumx*sumx + sumy*sumy);\n\n  // Creaing cartoon effect by combining\n  // edge informatioon and original image data.\n  // fTotalSum = mix( fTotalSum, texture2D( texture,vec2( uv.s, uv.t)), 0.5);\n\n\n  gl_FragColor = vec4(1.) - fTotalSum ;//ååå¤§çæ¯è¾¹ç¼,æ´æ¥è¿äº1,æä»¥fTalSumå¨è¾¹ç¼æ¯1,ç½è²,ç¨1-åæé»è²\n  gl_FragColor.a = c22.a;\n}\n"},function(module,exports){module.exports="//simple2d.vert\n  precision highp float;\n#define GLSLIFY 1\n\n  attribute vec3 position;\n  uniform float flipY;\n  varying vec2 uv;\n  void main(void) {\n    gl_Position = vec4(-position.x, position.y*flipY, position.z, 1.);\n    uv = -position.xy*.5+.5;\n  }\n"},function(module,exports,__webpack_require__){function loadMultiple(opt,progress,skipMissing){if("function"!=typeof(progress=progress||noop))return Promise.reject(new Error("The second argument to load.all() and load.any() must be a function, or undefined"));var total,load,count=0,emitProgress=function(item,value,count,error){var obj={target:item,total:total,count:count,progress:count/total,value:value};error&&(obj.error=error),progress(obj)};if(load=skipMissing?function(opt){return loadAsset(opt).then(function(result){return{value:result}},function(error){return{value:null,error:error}}).then(function(optional){return emitProgress(opt,optional.value,++count,optional.error),optional.value})}:function(opt){return loadAsset(opt).then(function(result){return emitProgress(opt,result,++count),result})},Array.isArray(opt))return total=opt.length,Promise.all(opt.map(function(item){return load(item)}));if(opt){var entries=Object.keys(opt).map(function(key){return{key:key,value:opt[key]}});return total=entries.length,Promise.all(entries.map(function(item){var key=item.key;return load(item.value).then(function(value){return{value:value,key:key}})})).then(function(results){return results.reduce(function(obj,item){return obj[item.key]=item.value,obj},{})})}return Promise.reject(new Error("You must specify an array of assets or object group to load"))}function loadAsset(opt){return opt?("string"==typeof opt&&(opt={url:opt}),isPromise(opt)?opt:getLoader(opt).then(function(loader){return opt=assign({},opt),delete opt.type,loader(opt)})):Promise.reject(new Error("You must specify a URL or descriptor of the asset to load"))}function getLoader(opt){var i,loader,type=opt.type?opt.type:null;if(type){if("function"==typeof type)return Promise.resolve(type);if(type=type.toLowerCase(),!opt.url)return Promise.reject(new Error("When using loadAsset(), you must specify a URL or descriptor of the asset to load"));for(i=0;i<loaders.length;i++)if(loader=loaders[i],loader.key===type)return Promise.resolve(loader.load);return Promise.reject(new Error('Could not find an asset loader by the key "'+opt.type+'"'))}if(!opt.url)return Promise.reject(new Error("When using loadAsset(), you must specify a URL or descriptor of the asset to load"));var ext=extname(opt.url);if(!ext)return Promise.reject(new Error('No extension found for input URL "'+opt.url+'", try to specify a { type } such as "image" or "text"'));for(i=0;i<loaders.length;i++)if(loader=loaders[i],loader.match){var isMatch="function"==typeof loader.match?loader.match(ext):loader.match.test(ext);if(isMatch)return Promise.resolve(loader.load)}return Promise.reject(new Error('Could not infer an asset loader from the file type "'+ext+'", try specifying { type } such as "image" or "text"'))}function extname(url){if(!url)return"";var idx=url.lastIndexOf("/");return-1!==idx&&(url=url.substring(idx+1)),idx=url.indexOf("?"),-1!==idx&&(url=url.substring(0,idx)),idx=url.indexOf("#"),-1!==idx&&(url=url.substring(0,idx)),idx=url.lastIndexOf("."),-1!==idx?url.substring(idx):""}var loaders=__webpack_require__(154),assign=__webpack_require__(65),isPromise=__webpack_require__(167),noop=function(){};module.exports=loadAsset,module.exports.all=function(opt,progress){return loadMultiple(opt,progress,!1)},module.exports.any=function(opt,progress){return loadMultiple(opt,progress,!0)}},function(module,exports,__webpack_require__){const createMediaLoader=__webpack_require__(155),createFileLoader=__webpack_require__(158),loadImage=__webpack_require__(166);module.exports=[{key:"json",match:/\.json$/i,load:createFileLoader("json")},{key:"text",match:/\.txt$/i,load:createFileLoader("text")},{key:"image",match:/\.(jpg|jpeg|svg|png|gif|webp|bmp|tga|tif|apng|wbpm|ico)$/i,load:loadImage},createMediaLoader("audio",function(){return new window.Audio}),createMediaLoader("video",function(){return document.createElement("video")}),{key:"binary",match:/\.bin$/i,load:createFileLoader("binary")},{key:"blob",load:createFileLoader("blob")}]},function(module,exports,__webpack_require__){function getMediaType(ext){var result=mime(ext);return result?0===result.indexOf("audio")?"audio":0===result.indexOf("video")?"video":null:null}var mime=__webpack_require__(156);module.exports=function(type,createElement){return{key:type,match:function(ext){return getMediaType(ext)===type},load:function(opt){return new Promise(function(resolve,reject){var finished=!1,media=createElement(),onLoaded=function(){finished||(finished=!0,resolve(media))},event=(opt.event||"canplay").toLowerCase();if("loadedmetadata"===event?media.onloadedmetadata=onLoaded:"canplaythrough"===event?media.oncanplaythrough=onLoaded:"loadeddata"===event?media.onloadeddata=onLoaded:media.oncanplay=onLoaded,media.onerror=function(er){finished||(finished=!0,reject(new Error("Error while loading "+type+" at "+opt.url)))},opt.crossOrigin&&(media.crossOrigin=opt.crossOrigin),void 0!==opt.volume&&(media.volume=opt.volume),void 0!==opt.preload&&(media.preload=opt.volume),void 0!==opt.playbackRate&&(media.playbackRate=opt.volume),void 0!==opt.muted&&(media.muted=opt.volume),void 0!==opt.currentTime&&(media.currentTime=opt.volume),void 0!==opt.controls&&(media.controls=opt.volume),void 0!==opt.autoPlay&&(media.autoPlay=opt.volume),media.src=opt.url,media.readyState>=media.HAVE_ENOUGH_DATA)return finished=!0,resolve(media);media.load()})}}}},function(module,exports,__webpack_require__){var mimeTypes=__webpack_require__(157),mimeLookup={};Object.keys(mimeTypes).forEach(function(key){mimeTypes[key].forEach(function(ext){mimeLookup[ext]=key})}),module.exports=function(ext){if(!ext)throw new TypeError("must specify extension string");return 0===ext.indexOf(".")&&(ext=ext.substring(1)),mimeLookup[ext.toLowerCase()]}},function(module,exports){module.exports={"audio/midi":["mid","midi","kar","rmi"],"audio/mp4":["mp4a","m4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/webm":["weba"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/wav":["wav"],"video/3gpp":["3gp"],"video/3gpp2":["3g2"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"]}},function(module,exports,__webpack_require__){function xhrFetch(type,opt){return new Promise(function(resolve,reject){var responseType="text";"json"===type?responseType="text":"binary"===type?responseType="arraybuffer":"blob"===type&&(responseType="blob"),opt=assign({},opt,{json:!1,responseType:responseType}),xhr(opt,function(err,res,body){if(err)return reject(err);if(/404/.test(res.statusCode))throw new Error("Resource not found");if(!/^2/.test(res.statusCode))return reject(new Error("Unexpected HTTP Status Code: "+res.statusCode));if("json"===type)try{body=JSON.parse(body)}catch(err){return reject(err)}resolve(body)})})}var xhr=__webpack_require__(159),assign=__webpack_require__(65);module.exports=function(type){return function(opt){var p;return p="fetch"in window?window.fetch(opt.url,opt).then(function(response){if(/404/.test(response.status))throw new Error("Resource not found");if(!/^2/.test(response.status))throw new Error("Unexpected HTTP Status Code: "+response.status);if(!response.ok)throw new Error("Response not OK");return"json"===type?response.json():"binary"===type?response.arrayBuffer():"blob"===type?response.blob():response.text()}):xhrFetch(type,opt),p.catch(function(err){throw new Error(err.message+" while loading file "+opt.url)})}}},function(module,exports,__webpack_require__){"use strict";function isEmpty(obj){for(var i in obj)if(obj.hasOwnProperty(i))return!1;return!0}function initParams(uri,options,callback){var params=uri;return isFunction(options)?(callback=options,"string"==typeof uri&&(params={uri:uri})):params=xtend(options,{uri:uri}),params.callback=callback,params}function createXHR(uri,options,callback){return options=initParams(uri,options,callback),_createXHR(options)}function _createXHR(options){function readystatechange(){4===xhr.readyState&&setTimeout(loadFunc,0)}function getBody(){var body=void 0;if(body=xhr.response?xhr.response:xhr.responseText||getXml(xhr),isJson)try{body=JSON.parse(body)}catch(e){}return body}function errorFunc(evt){return clearTimeout(timeoutTimer),evt instanceof Error||(evt=new Error(""+(evt||"Unknown XMLHttpRequest Error"))),evt.statusCode=0,callback(evt,failureResponse)}function loadFunc(){if(!aborted){var status;clearTimeout(timeoutTimer),status=options.useXDR&&void 0===xhr.status?200:1223===xhr.status?204:xhr.status;var response=failureResponse,err=null;return 0!==status?(response={body:getBody(),statusCode:status,method:method,headers:{},url:uri,rawRequest:xhr},xhr.getAllResponseHeaders&&(response.headers=parseHeaders(xhr.getAllResponseHeaders()))):err=new Error("Internal XMLHttpRequest Error"),callback(err,response,response.body)}}if(void 0===options.callback)throw new Error("callback argument missing");var called=!1,callback=function(err,response,body){called||(called=!0,options.callback(err,response,body))},xhr=options.xhr||null;xhr||(xhr=options.cors||options.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var key,aborted,timeoutTimer,uri=xhr.url=options.uri||options.url,method=xhr.method=options.method||"GET",body=options.body||options.data,headers=xhr.headers=options.headers||{},sync=!!options.sync,isJson=!1,failureResponse={body:void 0,headers:{},statusCode:0,method:method,url:uri,rawRequest:xhr};if("json"in options&&!1!==options.json&&(isJson=!0,headers.accept||headers.Accept||(headers.Accept="application/json"),"GET"!==method&&"HEAD"!==method&&(headers["content-type"]||headers["Content-Type"]||(headers["Content-Type"]="application/json"),body=JSON.stringify(!0===options.json?body:options.json))),xhr.onreadystatechange=readystatechange,xhr.onload=loadFunc,xhr.onerror=errorFunc,xhr.onprogress=function(){},xhr.onabort=function(){aborted=!0},xhr.ontimeout=errorFunc,xhr.open(method,uri,!sync,options.username,options.password),sync||(xhr.withCredentials=!!options.withCredentials),!sync&&options.timeout>0&&(timeoutTimer=setTimeout(function(){if(!aborted){aborted=!0,xhr.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",errorFunc(e)}},options.timeout)),xhr.setRequestHeader)for(key in headers)headers.hasOwnProperty(key)&&xhr.setRequestHeader(key,headers[key]);else if(options.headers&&!isEmpty(options.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in options&&(xhr.responseType=options.responseType),"beforeSend"in options&&"function"==typeof options.beforeSend&&options.beforeSend(xhr),xhr.send(body||null),xhr}function getXml(xhr){try{if("document"===xhr.responseType)return xhr.responseXML;var firefoxBugTakenEffect=xhr.responseXML&&"parsererror"===xhr.responseXML.documentElement.nodeName;if(""===xhr.responseType&&!firefoxBugTakenEffect)return xhr.responseXML}catch(e){}return null}function noop(){}var window=__webpack_require__(160),isFunction=__webpack_require__(64),parseHeaders=__webpack_require__(162),xtend=__webpack_require__(165);module.exports=createXHR,module.exports.default=createXHR,createXHR.XMLHttpRequest=window.XMLHttpRequest||noop,createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window.XDomainRequest,function(array,iterator){for(var i=0;i<array.length;i++)iterator(array[i])}(["get","put","post","patch","head","delete"],function(method){createXHR["delete"===method?"del":method]=function(uri,options,callback){return options=initParams(uri,options,callback),options.method=method.toUpperCase(),_createXHR(options)}})},function(module,exports,__webpack_require__){(function(global){var win;win="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{},module.exports=win}).call(exports,__webpack_require__(161))},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){var trim=__webpack_require__(163),forEach=__webpack_require__(164),isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)};module.exports=function(headers){if(!headers)return{};var result={};return forEach(trim(headers).split("\n"),function(row){var index=row.indexOf(":"),key=trim(row.slice(0,index)).toLowerCase(),value=trim(row.slice(index+1));void 0===result[key]?result[key]=value:isArray(result[key])?result[key].push(value):result[key]=[result[key],value]}),result}},function(module,exports){function trim(str){return str.replace(/^\s*|\s*$/g,"")}exports=module.exports=trim,exports.left=function(str){return str.replace(/^\s*/,"")},exports.right=function(str){return str.replace(/\s*$/,"")}},function(module,exports,__webpack_require__){function forEach(list,iterator,context){if(!isFunction(iterator))throw new TypeError("iterator must be a function");arguments.length<3&&(context=this),"[object Array]"===toString.call(list)?forEachArray(list,iterator,context):"string"==typeof list?forEachString(list,iterator,context):forEachObject(list,iterator,context)}function forEachArray(array,iterator,context){for(var i=0,len=array.length;i<len;i++)hasOwnProperty.call(array,i)&&iterator.call(context,array[i],i,array)}function forEachString(string,iterator,context){for(var i=0,len=string.length;i<len;i++)iterator.call(context,string.charAt(i),i,string)}function forEachObject(object,iterator,context){for(var k in object)hasOwnProperty.call(object,k)&&iterator.call(context,object[k],k,object)}var isFunction=__webpack_require__(64);module.exports=forEach;var toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty},function(module,exports){function extend(){for(var target={},i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source)hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty},function(module,exports){module.exports=function(opt){return new Promise(function(resolve,reject){var finished=!1,image=new window.Image;image.onload=function(){finished||(finished=!0,resolve(image))},image.onerror=function(){finished||(finished=!0,reject(new Error("Error while loading image at "+opt.url)))},opt.crossOrigin&&(image.crossOrigin=opt.crossOrigin),image.src=opt.url})}},function(module,exports){function isPromise(obj){return!!obj&&("object"==typeof obj||"function"==typeof obj)&&"function"==typeof obj.then}module.exports=isPromise},function(module,exports){}]);